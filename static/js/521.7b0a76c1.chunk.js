"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[521],{4657:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(8832),l=n(184);function r(e){const t=e.split("$$"),n=[];return t.forEach(((e,t)=>{t%2===1?n.push((0,l.jsx)(s.InlineMath,{math:e},"MCIM".concat(t))):n.push((0,l.jsx)("span",{children:e},"MCSP".concat(t)))})),n}const a=function(e){let{text:t,renderNewLines:n=!1}=e;return n&&(t=(e=>e.replace(/\\n/g,"\n"))(t)),(0,l.jsx)("div",{style:{whiteSpace:t.includes("\n")&&n?"pre-wrap":"normal",marginTop:t.includes("$$")?"0.5em":"0"},children:r(t)})}},6521:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(2791),l=n(4657),r=n(184);const a=(0,s.forwardRef)(((e,t)=>{const{lb1:n,lb2:a,lb3:c,lb4:o,isSelected:i,onSelect:u}=e,[d,h]=(0,s.useState)([n,a,c,o]);return(0,s.useImperativeHandle)(t,(()=>({getLabels:()=>d,setLabels:e=>h(e),rotateLabels:()=>{h((e=>[e[3],...e.slice(0,3)]))}}))),(0,r.jsxs)("div",{className:"square ".concat(i?"selected":""),onClick:u,children:[(0,r.jsxs)("div",{className:"label top",children:[" ",(0,r.jsx)(l.Z,{text:d[0],renderNewLines:!0})]}),(0,r.jsxs)("div",{className:"label right",children:[" ",(0,r.jsx)(l.Z,{text:d[1],renderNewLines:!0})]}),(0,r.jsxs)("div",{className:"label bottom",children:[" ",(0,r.jsx)(l.Z,{text:d[2],renderNewLines:!0})]}),(0,r.jsxs)("div",{className:"label left",children:[" ",(0,r.jsx)(l.Z,{text:d[3],renderNewLines:!0})]}),(0,r.jsx)("button",{className:"rotate-button",style:{fontSize:"1.5em"},onClick:e=>{e.stopPropagation(),h((e=>[e[3],...e.slice(0,3)]))},children:"\ud83d\udd04"})]})}));function c(e,t,n){const s=Math.floor(e/n),l=e%n;let r,a=s,c=l;switch(t){case 0:a=s-1,r=2;break;case 1:c=l+1,r=3;break;case 2:a=s+1,r=0;break;case 3:c=l-1,r=1;break;default:return null}if(a>=0&&a<n&&c>=0&&c<n){return{squareIndex:a*n+c,labelIndex:r}}return null}const o=e=>{let{components:t,originalPairs:n,gridDimension:l}=e;const[o,i]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),h=(0,s.useRef)([]),[b,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(1),[p,j]=(0,s.useState)(!1),g=()=>function(e,t,n){for(let s=0;s<e.length;s++){const l=e[s];for(let r=0;r<4;r++){const a=l.labels[r];if(""===a)continue;const o=c(s,r,n);if(null===o)return!1;const i=e[o.squareIndex].labels[o.labelIndex];if(""===i)return!1;const u="".concat(a,":").concat(i),d="".concat(i,":").concat(a);if(!t.includes(u)&&!t.includes(d))return!1}}return!0}(h.current.map((e=>({labels:e.getLabels()}))),n,l);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{fontSize:"".concat(x,"em")},className:"grid-container ".concat(3===l?"three-by-three":"four-by-four"),children:t.map(((e,t)=>(0,r.jsx)("div",{className:"grid-item",children:(0,r.jsx)(a,{ref:e=>h.current[t]=e,...e,isSelected:o===t,onSelect:()=>(e=>{if(null!==u){const t=h.current[u].getLabels(),n=h.current[e].getLabels();h.current[u].setLabels(n),h.current[e].setLabels(t),d(null),i(null),g()}else d(e),i(e)})(t),checkPuzzle:g})},t)))}),b&&(0,r.jsx)("div",{className:"message ".concat(p?"isCorrect":"isIncorrect"),children:b}),(0,r.jsxs)("span",{children:[(0,r.jsx)("button",{onClick:()=>{g()?(j(!0),m("Well Done!")):(j(!1),m("Not Yet!")),setTimeout((()=>m(null)),2e3)},children:"Check Solution"}),(0,r.jsx)("button",{onClick:()=>f((e=>e+.1)),children:"+"}),(0,r.jsx)("button",{onClick:()=>f((e=>Math.max(.4,e-.1))),children:"-"})]})]})},i=e=>{let{text:t}=e,n=t.split("\n");const s=n.map((e=>e.replace("\n","")));function l(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}n=l(n.map((e=>{const[t,n]=e.split(":");return Math.random()>.5?"".concat(n,":").concat(t):e})));const a=n.length;let c;a<=12?c=3:a<=24?c=4:console.error("Too many question-answer pairs!");const i=Array.from({length:c},(()=>Array.from({length:c},(()=>({lb1:"",lb2:"",lb3:"",lb4:""})))));let u=0;const d=n.map((e=>{const[t,n]=e.split(":");return{question:t,answer:n}}));for(let r=0;r<c;r++){for(let e=0;e<c-1;e++)u<a&&(i[r][e].lb2=d[u].question,i[r][e+1].lb4=d[u].answer,u++);if(r<c-1)for(let e=0;e<c;e++)u<a&&(i[r][e].lb3=d[u].question,i[r+1][e].lb1=d[u].answer,u++)}const h=l(i.flat()).map((e=>{const t=["lb1","lb2","lb3","lb4"],n=Math.floor(4*Math.random());for(let s=0;s<n;s++){const n=e[t[3]];for(let s=3;s>0;s--)e[t[s]]=e[t[s-1]];e[t[0]]=n}return e}));return(0,r.jsx)("div",{className:"gameArea",children:(0,r.jsx)(o,{components:h,originalPairs:s,gridDimension:c})})};const u=function(e){let{text:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"interactiveTitle",children:"Tarsia Puzzle"}),(0,r.jsx)("p",{className:"instructions",children:"Get pairs next to each other: use rotate button or click one box then the other to swap."}),(0,r.jsx)(i,{text:t})]})}}}]);
//# sourceMappingURL=521.7b0a76c1.chunk.js.map
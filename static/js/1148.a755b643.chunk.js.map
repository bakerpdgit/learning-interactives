{"version":3,"file":"static/js/1148.a755b643.chunk.js","mappings":"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","sources":["components/BuildingBlocks.js","webpack://class-interactives/./src/components/InputModal.module.css?7028","components/InputModal.js","components/MathComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./BuildingBlocks.css\";\nimport MathComponent from \"./MathComponent.js\";\nimport Draggable from \"react-draggable\";\nimport InputModal from \"./InputModal\";\n\nfunction InteractiveTemplate({ text }) {\n  const [lines, setLines] = useState(text.split(\"\\n\")); // Convert lines to state\n  const [highestZIndex, setHighestZIndex] = useState(0);\n  const [configured, setConfigured] = useState(false);\n  const [inputMessage, setInputMessage] = useState({});\n\n  const handleDoubleClick = () => {\n    setHighestZIndex(highestZIndex + 1);\n    return highestZIndex + 1;\n  };\n\n  // Function to make a box resizable\n  const makeBoxResizable = (boxId) => {\n    const box = document.getElementById(boxId);\n    const resizers = box.querySelectorAll(\".resize-icon\");\n    let currentResizer;\n\n    // Handle resizing\n    resizers.forEach((resizer) => {\n      resizer.addEventListener(\"mousedown\", (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        currentResizer = e.target;\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", () => {\n          document.removeEventListener(\"mousemove\", handleMouseMove);\n        });\n      });\n    });\n\n    const handleMouseMove = (e) => {\n      const rect = box.getBoundingClientRect();\n      let newWidth = e.clientX - rect.x;\n      let newHeight = e.clientY - rect.y;\n      if (currentResizer.classList.contains(\"resize-bottom\")) {\n        box.style.height = newHeight + \"px\";\n      } else if (currentResizer.classList.contains(\"resize-right\")) {\n        box.style.width = newWidth + \"px\";\n      }\n    };\n  };\n\n  // Function to place boxes randomly with no overlap\n  const placeBoxesRandomly = useRef((gameArea, boxes) => {\n    const gameAreaRect = gameArea.getBoundingClientRect();\n    boxes.forEach((box) => {\n      makeBoxResizable(box.id);\n      let overlap = true;\n      while (overlap) {\n        const randomX = Math.random() * (gameAreaRect.width - box.offsetWidth);\n        const randomY =\n          Math.random() * (gameAreaRect.height - box.offsetHeight);\n        box.style.left = randomX + \"px\";\n        box.style.top = randomY + \"px\";\n        overlap = checkOverlap(box, boxes);\n      }\n    });\n  });\n\n  // Function to check if a box overlaps with any other boxes\n  const checkOverlap = (box, boxes) => {\n    const rect1 = box.getBoundingClientRect();\n    for (const otherBox of boxes) {\n      if (box === otherBox) continue;\n      const rect2 = otherBox.getBoundingClientRect();\n      if (\n        rect1.x < rect2.x + rect2.width &&\n        rect1.x + rect1.width > rect2.x &&\n        rect1.y < rect2.y + rect2.height &&\n        rect1.y + rect1.height > rect2.y\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleAddItem = () => {\n    setInputMessage({\n      prompt: \"Please enter text for the new item:\",\n      value: \"\",\n    });\n  };\n\n  const handleInputSubmit = (userInput) => {\n    if (userInput) {\n      setLines((prevLines) => [...prevLines, userInput]);\n    }\n    setInputMessage({}); // Clear inputMessage to close the modal\n  };\n\n  const handleRightClick = (index, e) => {\n    e.preventDefault(); // Prevent the default context menu from showing\n    setLines((prevLines) =>\n      prevLines.map((line, i) => (i === index ? \"\" : line))\n    );\n  };\n\n  useEffect(() => {\n    // Add event listener for window resize\n    const handleResize = () => {\n      const gameArea = document.querySelector(\".interactiveContainer\");\n      const boxes = document.querySelectorAll(\".draggableBox\");\n\n      if (!gameArea || !boxes.length) return; // Ensure elements exist\n\n      // Re-randomize the position of all blocks on resize\n      placeBoxesRandomly.current(gameArea, boxes);\n    };\n\n    const gameArea = document.querySelector(\".interactiveContainer\");\n    const boxes = document.querySelectorAll(\".draggableBox\");\n\n    if (configured) {\n      if (boxes.length) {\n        placeBoxesRandomly.current(gameArea, [boxes[boxes.length - 1]]);\n      }\n    } else {\n      placeBoxesRandomly.current(gameArea, boxes);\n      setConfigured(true);\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [configured]); // Make sure the dependencies are correctly set\n\n  return (\n    <>\n      {inputMessage.prompt && (\n        <InputModal\n          title={inputMessage.prompt}\n          placeholder=\"Type here...\"\n          value={inputMessage.value}\n          onSubmit={handleInputSubmit}\n          onClose={() => setInputMessage({})}\n        />\n      )}\n\n      <div className=\"interactiveContainer\">\n        <button onClick={handleAddItem} className=\"addItem\">\n          Add item\n        </button>\n        {lines.map(\n          (line, index) =>\n            line !== \"\" && (\n              <Draggable key={index}>\n                <div\n                  className=\"draggableBox\"\n                  id={`box-${index}`}\n                  onContextMenu={(e) => handleRightClick(index, e)}\n                  onDoubleClick={() => {\n                    const newZIndex = handleDoubleClick();\n                    document.getElementById(`box-${index}`).style.zIndex =\n                      newZIndex;\n                  }}\n                >\n                  <div className=\"resize-icon resize-bottom\"></div>\n                  <div className=\"resize-icon resize-right\"></div>\n                  <MathComponent text={line} renderNewLines={true} />\n                </div>\n              </Draggable>\n            )\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default InteractiveTemplate;\n","// extracted by mini-css-extract-plugin\nexport default {\"modalOverlay\":\"InputModal_modalOverlay__Y-bWN\",\"modalContent\":\"InputModal_modalContent__z50rT\",\"modalTitle\":\"InputModal_modalTitle__FCo0P\",\"inputField\":\"InputModal_inputField__IeKtc\",\"inputArea\":\"InputModal_inputArea__qi5q6\",\"buttonGroup\":\"InputModal_buttonGroup__3nwbY\",\"submitButton\":\"InputModal_submitButton__irpiv\",\"cancelButton\":\"InputModal_cancelButton__xmt2G\"};","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./InputModal.module.css\";\r\n\r\nconst InputModal = ({\r\n  title,\r\n  placeholder,\r\n  value = \"\",\r\n  onSubmit,\r\n  onClose,\r\n  multiLine = false,\r\n}) => {\r\n  const [inputValue, setInputValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    setInputValue(value);\r\n  }, [value]);\r\n\r\n  const handleChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(inputValue);\r\n    onClose();\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\" && !multiLine) {\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.modalOverlay}>\r\n      <div className={styles.modalContent}>\r\n        <h2 className={styles.modalTitle}>{title}</h2>\r\n        {multiLine ? (\r\n          <textarea\r\n            type=\"text\"\r\n            className={styles.inputArea}\r\n            placeholder={placeholder}\r\n            value={inputValue}\r\n            onChange={handleChange}\r\n            onKeyDown={handleKeyDown}\r\n            autoFocus\r\n          />\r\n        ) : (\r\n          <input\r\n            type=\"text\"\r\n            className={styles.inputField}\r\n            placeholder={placeholder}\r\n            value={inputValue}\r\n            onChange={handleChange}\r\n            onKeyDown={handleKeyDown}\r\n            autoFocus\r\n          />\r\n        )}\r\n\r\n        <div className={styles.buttonGroup}>\r\n          <button className={styles.submitButton} onClick={handleSubmit}>\r\n            Submit\r\n          </button>\r\n          <button className={styles.cancelButton} onClick={onClose}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputModal;\r\n","import { InlineMath } from \"react-katex\";\r\n\r\nfunction parseAndRenderMath(text) {\r\n  const prefix = Math.random().toString(36).substring(2, 10); // Generate an 8-character random string\r\n\r\n  // Split the text based on $$ delimiters\r\n  const segments = text.split(\"$$\");\r\n  const elements = [];\r\n\r\n  segments.forEach((segment, index) => {\r\n    if (index % 2 === 1) {\r\n      // Odd-indexed segments are LaTeX (since they are enclosed between $$ delimiters)\r\n      elements.push(\r\n        <InlineMath key={`MCIM-${prefix}-${index}`} math={segment} />\r\n      );\r\n    } else {\r\n      elements.push(<span key={`MCSP-${prefix}-${index}`}>{segment}</span>);\r\n    }\r\n  });\r\n\r\n  return elements;\r\n}\r\n\r\nconst renderWithNewLines = (text) => {\r\n  return text.replace(/\\\\n/g, \"\\n\");\r\n};\r\n\r\nfunction MathComponent({ text, renderNewLines = false }) {\r\n  if (renderNewLines) {\r\n    text = renderWithNewLines(text);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        whiteSpace:\r\n          text.includes(\"\\n\") && renderNewLines ? \"pre-wrap\" : \"normal\",\r\n        marginTop: text.includes(\"$$\") ? \"0.5em\" : \"0\",\r\n      }}\r\n    >\r\n      {parseAndRenderMath(text)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MathComponent;\r\n"],"names":["_ref","text","lines","setLines","useState","split","highestZIndex","setHighestZIndex","configured","setConfigured","inputMessage","setInputMessage","placeBoxesRandomly","useRef","gameArea","boxes","gameAreaRect","getBoundingClientRect","forEach","box","boxId","document","getElementById","currentResizer","querySelectorAll","resizer","addEventListener","e","stopPropagation","preventDefault","target","handleMouseMove","removeEventListener","rect","newWidth","clientX","x","newHeight","clientY","y","classList","contains","style","height","width","makeBoxResizable","id","overlap","randomX","Math","random","offsetWidth","randomY","offsetHeight","left","top","checkOverlap","rect1","otherBox","rect2","useEffect","handleResize","querySelector","length","current","window","_jsxs","_Fragment","children","prompt","_jsx","InputModal","title","placeholder","value","onSubmit","userInput","prevLines","onClose","className","onClick","handleAddItem","map","line","index","Draggable","concat","onContextMenu","handleRightClick","i","onDoubleClick","newZIndex","zIndex","MathComponent","renderNewLines","multiLine","inputValue","setInputValue","handleChange","handleSubmit","handleKeyDown","key","styles","type","onChange","onKeyDown","autoFocus","parseAndRenderMath","prefix","toString","substring","segments","elements","segment","push","InlineMath","math","replace","renderWithNewLines","whiteSpace","includes","marginTop"],"sourceRoot":""}
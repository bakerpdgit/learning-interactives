{"version":3,"file":"static/js/3097.554ca9b1.chunk.js","mappings":"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","sources":["webpack://class-interactives/./src/components/Fishbone.module.css?e28b","components/Fishbone.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Fishbone_container__wVv0B\",\"canvas\":\"Fishbone_canvas__NtPIH\",\"controls\":\"Fishbone_controls__xQrzF\",\"canvasWrapper\":\"Fishbone_canvasWrapper__Um0W6\",\"headTitle\":\"Fishbone_headTitle__6Z42k\",\"branchTitleTop\":\"Fishbone_branchTitleTop__We1uv\",\"branchTitleBottom\":\"Fishbone_branchTitleBottom__WNk8Y\",\"branchButtonsUp\":\"Fishbone_branchButtonsUp__2urmZ\",\"branchButtonsDown\":\"Fishbone_branchButtonsDown__gvxwy\",\"labelUp\":\"Fishbone_labelUp__xla2a\",\"labelDown\":\"Fishbone_labelDown__VB2qa\",\"labelLine\":\"Fishbone_labelLine__QbdcL\",\"addLabel\":\"Fishbone_addLabel__VcABt\",\"shiftLabel\":\"Fishbone_shiftLabel__Vq5pj\"};","import React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport InputModal from \"./InputModal\";\nimport styles from \"./Fishbone.module.css\";\n\nfunction Fishbone({ text }) {\n  const containerRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [coords, setCoords] = useState({});\n  const [headCoords, setHeadCoords] = useState({ x: 0, w: 0 });\n\n  // Initialize branches state from the text prop\n  const [branches, setBranches] = useState(() => {\n    const lines = text.split(\"\\n\");\n    const branchTitles = lines.slice(1); // Get all lines after the first for branch titles\n    return branchTitles\n      .filter((bt) => bt.trim() !== \"\") // Filter out any empty lines intended as branches\n      .map((branchTitle, index) => ({\n        id: Date.now() + index, // Generate a simple unique ID\n        title: branchTitle.trim(),\n        labels: [],\n        labelShift: 0,\n      }));\n  });\n  const [fontSize, setFontSize] = useState(1);\n  const [spacing, setSpacing] = useState(160);\n  const [modalData, setModalData] = useState({\n    show: false,\n    title: \"\",\n    callback: null,\n  });\n\n  const title = text.split(\"\\n\")[0];\n\n  const drawDiagram = useCallback(() => {\n    // add slight delay on the redraw to ensure canvas is ready\n\n    window.setTimeout(() => {\n      const canvas = canvasRef.current;\n      if (!canvas) return; // Guard clause if canvas is not yet available\n      const ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      const centerY = canvas.height / 2;\n\n      // Calculate adaptive headWidth\n      const calculatedHeadWidth = Math.max(300, canvas.width / 6);\n\n      // headX is the x-coordinate of the left edge of the head box\n      const headX = canvas.width - calculatedHeadWidth - 10; // 10px padding from the right edge\n\n      ctx.lineWidth = 4;\n      ctx.strokeStyle = \"black\";\n\n      ctx.beginPath();\n      ctx.moveTo(10, centerY);\n      // Draw spine up to the left edge of the head box area\n      ctx.lineTo(headX, centerY);\n      ctx.stroke();\n\n      // branches\n      const branchSpacing = spacing;\n      const branchLength = canvas.height * 0.45;\n      const dx = branchLength * Math.SQRT1_2; // cos 45deg\n      const dy = branchLength * Math.SQRT1_2; // sin 45deg\n      const newCoords = {};\n\n      ctx.lineWidth = 2;\n      branches.forEach((br, index) => {\n        const pairIndex = Math.floor(index / 2);\n        // Branches start relative to headX, which is the left edge of the head box\n        const side = index % 2 === 0 ? \"top\" : \"bottom\"; // Alternate sides for branches\n        const startX = headX - (pairIndex + 1) * branchSpacing;\n        const startY = centerY;\n        const endX = startX - dx;\n        const endY = startY + (side === \"top\" ? -dy : dy);\n\n        ctx.beginPath();\n        ctx.moveTo(startX, startY);\n        ctx.lineTo(endX, endY);\n        ctx.stroke();\n\n        newCoords[br.id] = {\n          startX,\n          startY,\n          endX,\n          endY,\n          midX: (startX + endX) / 2,\n          midY: (startY + endY) / 2,\n        };\n      });\n      setCoords(newCoords);\n      // Update headCoords with the new adaptive width and calculated positions\n      setHeadCoords({\n        x: headX,\n        w: calculatedHeadWidth,\n      });\n    }, 0); // Delay to ensure canvas is ready\n  }, [branches, spacing, canvasRef, setCoords, setHeadCoords]);\n\n  // handle resizing\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const handleResize = () => {\n      if (containerRef.current && canvas) {\n        // Set canvas drawing surface size to match its CSS-defined element size\n        // Ensure the parent container and canvas CSS are set up for flex-grow or specific height.\n        canvas.width = canvas.offsetWidth;\n        canvas.height = canvas.offsetHeight;\n        drawDiagram();\n      }\n    };\n    // Initial call to set size\n    handleResize();\n\n    // Add a slight delay for the initial resize if layout might still be settling\n    // This can sometimes help if offsetWidth/Height are 0 on first mount.\n    const timeoutId = setTimeout(handleResize, 50);\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      clearTimeout(timeoutId);\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [drawDiagram]); // drawDiagram dependency is correct\n\n  const openModal = (title, callback) => {\n    setModalData({ show: true, title, callback });\n  };\n\n  const handleAddBranch = () => {\n    openModal(\"Branch title\", (value) => {\n      if (!value.trim()) return;\n      setBranches((prev) => [\n        ...prev,\n        { id: Date.now(), title: value, labels: [], labelShift: 0 }, // Initialize labelShift\n      ]);\n    });\n  };\n\n  const handleAddLabel = (branchId) => {\n    openModal(\"Label\", (value) => {\n      if (!value.trim()) return;\n      setBranches((prev) =>\n        prev.map((b) =>\n          b.id === branchId\n            ? {\n                ...b,\n                labels: [...b.labels, { id: Date.now(), text: value }],\n                labelShift: 0, // Reset labelShift to 0\n              }\n            : b\n        )\n      );\n    });\n  };\n\n  const handleShiftLabels = (branchId) => {\n    const dy = (canvasRef.current.height * Math.SQRT1_2) / 16;\n    setBranches((prevBranches) =>\n      prevBranches.map((branch) =>\n        branch.id === branchId\n          ? { ...branch, labelShift: branch.labelShift + dy }\n          : branch\n      )\n    );\n  };\n\n  const removeBranch = (branchId) => {\n    setBranches((prev) => prev.filter((b) => b.id !== branchId));\n  };\n\n  const removeLabel = (branchId, labelId) => {\n    setBranches((prev) =>\n      prev.map((b) =>\n        b.id === branchId\n          ? { ...b, labels: b.labels.filter((l) => l.id !== labelId) }\n          : b\n      )\n    );\n  };\n\n  const increaseFont = () => setFontSize((f) => f + 0.1);\n  const decreaseFont = () => setFontSize((f) => Math.max(0.5, f - 0.1));\n\n  const titleFont = fontSize + 0.2;\n  const branchFont = fontSize + 0.1;\n\n  return (\n    <div ref={containerRef} className={styles.container}>\n      {modalData.show && (\n        <InputModal\n          title={modalData.title}\n          value=\"\"\n          onSubmit={modalData.callback}\n          onClose={() => setModalData({ show: false })}\n        />\n      )}\n      <div className={styles.controls}>\n        <button onClick={handleAddBranch}>Add Branch</button>\n        <button onClick={() => setSpacing((s) => s + 20)}>Space ↑</button>\n        <button onClick={() => setSpacing((s) => Math.max(40, s - 20))}>\n          Space ↓\n        </button>\n        <button onClick={increaseFont}>Font ↑</button>\n        <button onClick={decreaseFont}>Font ↓</button>\n      </div>\n      <div className={styles.canvasWrapper}>\n        <canvas ref={canvasRef} className={styles.canvas}></canvas>\n        {headCoords.w > 0 && (\n          <div\n            className={styles.headTitle}\n            style={{\n              fontSize: `${titleFont}em`,\n              left: headCoords.x,\n              width: headCoords.w,\n            }}\n          >\n            {title}\n          </div>\n        )}\n        {branches.map((br, idx) => {\n          const c = coords[br.id];\n          if (!c) {\n            return null;\n          }\n          const side = idx % 2 === 0 ? \"top\" : \"bottom\"; // Alternate sides for branches\n          const labels = br.labels || [];\n\n          const branchLength = canvasRef.current\n            ? canvasRef.current.offsetHeight * 0.45\n            : 100; // Default to avoid NaN\n\n          return (\n            <React.Fragment key={br.id}>\n              <div\n                className={\n                  idx % 2 === 0\n                    ? styles.branchTitleTop\n                    : styles.branchTitleBottom\n                }\n                style={{\n                  left: c.endX,\n                  top: c.endY,\n                  fontSize: `${branchFont}em`,\n                }}\n                onContextMenu={(e) => {\n                  e.preventDefault();\n                  removeBranch(br.id);\n                }}\n              >\n                {br.title}\n              </div>\n              {/* Container for + and ^ buttons */}\n              <div\n                className={\n                  idx % 2 === 0\n                    ? styles.branchButtonsUp\n                    : styles.branchButtonsDown\n                }\n                style={{\n                  position: \"absolute\",\n                  left: c.endX,\n                  top: c.endY,\n                  display: \"flex\", // Arrange buttons side-by-side\n                  gap: \"5px\", // Space between buttons\n                }}\n              >\n                <div\n                  className={styles.addLabel} // Assuming this class provides base styling\n                  style={{\n                    // left, top, transform are handled by parent div\n                    fontSize: `${branchFont}em`,\n                    cursor: \"pointer\", // Make it look clickable\n                  }}\n                  onClick={() => handleAddLabel(br.id)}\n                >\n                  +\n                </div>\n                <div\n                  className={styles.shiftLabel} // Create or use similar styling to addLabel\n                  style={{\n                    fontSize: `${branchFont}em`,\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShiftLabels(br.id)}\n                >\n                  {side === \"bottom\" ? \"↓\" : \"↑\"}\n                </div>\n              </div>\n              {labels.map((lab, labelIdx) => {\n                const numLabels = labels.length;\n                // Ensure numLabels is not zero before division, though map shouldn't run for empty array.\n                const t_original =\n                  numLabels > 0 ? (labelIdx + 0.5) / numLabels : 0;\n\n                const pixelShift = br.labelShift || 0;\n                // Ensure positive result for modulo, then ensure it's within [0, branchLength)\n                const effectivePixelOffsetOnBranch =\n                  ((pixelShift % branchLength) + branchLength) % branchLength;\n                const t_offset_due_to_shift =\n                  branchLength > 0\n                    ? effectivePixelOffsetOnBranch / branchLength\n                    : 0;\n\n                let effective_t = t_original + t_offset_due_to_shift;\n                effective_t = effective_t - Math.floor(effective_t); // Ensure t is in [0, 1)\n\n                const lx_on_line = c.startX + (c.endX - c.startX) * effective_t;\n                const ly_on_line = c.startY + (c.endY - c.startY) * effective_t;\n\n                return (\n                  <div\n                    key={lab.id}\n                    className={\n                      side === \"top\" ? styles.labelUp : styles.labelDown\n                    }\n                    style={{\n                      left: lx_on_line,\n                      top: ly_on_line,\n                      fontSize: `${fontSize}em`,\n                    }}\n                    onContextMenu={(e) => {\n                      e.preventDefault();\n                      removeLabel(br.id, lab.id);\n                    }}\n                  >\n                    {lab.text}\n                    <div\n                      className={styles.labelLine}\n                      style={{\n                        left: -20,\n                        top: \"50%\",\n                        width: 20,\n                      }}\n                    />\n                  </div>\n                );\n              })}\n            </React.Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default Fishbone;\n"],"names":["_ref","text","containerRef","useRef","canvasRef","coords","setCoords","useState","headCoords","setHeadCoords","x","w","branches","setBranches","split","slice","filter","bt","trim","map","branchTitle","index","id","Date","now","title","labels","labelShift","fontSize","setFontSize","spacing","setSpacing","modalData","setModalData","show","callback","drawDiagram","useCallback","window","setTimeout","canvas","current","ctx","getContext","clearRect","width","height","centerY","calculatedHeadWidth","Math","max","headX","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","branchSpacing","branchLength","dx","SQRT1_2","dy","newCoords","forEach","br","pairIndex","floor","startX","startY","endX","endY","midX","midY","useEffect","handleResize","offsetWidth","offsetHeight","timeoutId","addEventListener","clearTimeout","removeEventListener","openModal","titleFont","branchFont","_jsxs","ref","className","styles","children","_jsx","InputModal","value","onSubmit","onClose","onClick","handleAddBranch","prev","s","increaseFont","f","decreaseFont","style","concat","left","idx","c","side","React","top","onContextMenu","e","branchId","preventDefault","b","position","display","gap","cursor","handleAddLabel","prevBranches","branch","handleShiftLabels","lab","labelIdx","numLabels","length","t_original","pixelShift","effective_t","lx_on_line","ly_on_line","removeLabel","labelId","l"],"sourceRoot":""}
"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[262],{262:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(2791),n=l(184);const i=function(e){let{text:t}=e;const[l,i]=(0,a.useState)([]),[c,r]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),p=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{r(!1)}),1e3);return()=>clearTimeout(e)}),[]),(0,n.jsxs)("div",{className:"image-pin-maincontainer",children:[(0,n.jsxs)("div",{className:"image-pin-container",draggable:"false",onDragOver:e=>{e.preventDefault()},onDrop:e=>{if(!p.current||null===s)return;const t=p.current.getBoundingClientRect();let a=e.clientX-t.left,n=e.clientY-t.top;i(l.map(((e,t)=>t===s?{...e,labelX:a,labelY:n}:e))),o(null)},children:[(0,n.jsx)("img",{ref:p,src:t,className:"image-pin-image",alt:"Highlight",onClick:e=>{if(!p.current)return;const t=p.current.getBoundingClientRect();let l=e.clientX-t.left,a=e.clientY-t.top;i((e=>[...e,{x:Math.max(0,Math.min(l,t.width-20)),y:Math.max(0,Math.min(a,t.height-20)),label:"",labelX:l,labelY:a-40}]))},draggable:"false"}),l.map(((e,t)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"pin",style:{left:"".concat(e.x-10,"px"),top:"".concat(e.y-10,"px")},onContextMenu:e=>((e,t)=>{e.preventDefault(),i((e=>e.filter(((e,l)=>l!==t))))})(e,t),onDoubleClick:()=>(e=>{const t=prompt("Enter a label for this pin:",l[e].label);null!==t&&i(l.map(((l,a)=>a===e?{...l,label:t}:l)))})(t)},"pin-".concat(t)),e.label&&(0,n.jsx)("div",{className:"pin-label",style:{left:"".concat(e.labelX,"px"),top:"".concat(e.labelY,"px")},draggable:"true",onDragStart:e=>((e,t)=>{e.dataTransfer.setData("text/plain",""),o(t)})(e,t),children:e.label})]},"pinlabel-".concat(t))))]}),c&&(0,n.jsxs)("div",{className:"image-pin-instruction",children:[(0,n.jsx)("h1",{children:"Image Pins"}),(0,n.jsx)("p",{children:"click to drop pins, right-click to delete pin, double-click to add a label; drag labels to reposition."})]})]})}}}]);
//# sourceMappingURL=262.26256eff.chunk.js.map
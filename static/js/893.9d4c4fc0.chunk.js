"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[893],{2893:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(2791);const a={wordCompleteContainer:"WordComplete_wordCompleteContainer__YoNRj",textArea:"WordComplete_textArea__TVbpf",missingInput:"WordComplete_missingInput__bPvqM",missing:"WordComplete_missing__oDgpk",wrong:"WordComplete_wrong__f25ur",score:"WordComplete_score__FGO0n",star:"WordComplete_star__9TwrU",correctWordContainer:"WordComplete_correctWordContainer__AlWTt",mistakes:"WordComplete_mistakes__fOFdi",celebration:"WordComplete_celebration__VStrQ",scale:"WordComplete_scale__m7Xsv",hide:"WordComplete_hide__qv7rI",moveUpDown:"WordComplete_moveUpDown__8-5cy"};var n=s(184);const o=function(e){let{text:t}=e;const[s,o]=(0,r.useState)(t),[c,l]=(0,r.useState)(0),[i,d]=(0,r.useState)(0),[m,p]=(0,r.useState)(s),[_,u]=(0,r.useState)((s.match(/\*([a-zA-Z0-9]+)(?=[ ,.?!]|$)/g)||[]).map((e=>e.substring(1)))),[g,h]=(0,r.useState)(-1),[C,f]=(0,r.useState)(0),[x,W]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{let e=s;if(0===_.length)return;const t=Math.floor(Math.random()*_.length),r=_[t];let n,o=[];const c=new RegExp("\\*".concat(r,"\\b"),"g");for(;n=c.exec(e);)o.push(n.index);if(0===o.length)return;let l=o[Math.floor(Math.random()*o.length)]+1;const i=/\d/.test(r),m=i?"":r.charAt(0),u=i?"":r.charAt(r.length-1);e=e.substring(0,l)+'<span class="'.concat(a.missing,'">').concat(m,'<input type="text" class="').concat(a.missingInput,'" data-word="').concat(r,'" value="" size="').concat(r.length-2,'">').concat(u,"</span>")+e.substring(l+r.length),e=e.replace(/\*/g,""),p(e),h(t),d(l)}),[s,_]),(0,r.useEffect)((()=>{v&&p(s)}),[v,m,s]),(0,r.useEffect)((()=>{const e=document.querySelector(".".concat(a.missingInput));e&&e.focus()}),[m]),(0,n.jsxs)(n.Fragment,{children:[v?(0,n.jsx)("div",{className:a.celebration,children:(0,n.jsx)("span",{className:a.emoji,role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}):null,x&&(0,n.jsx)("div",{className:a.correctWordContainer,children:_[g]}),(0,n.jsx)("div",{className:a.wordCompleteContainer,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a.textArea,onKeyUp:e=>{if("Enter"===e.key){const t=_[g],r=e.target;let n;if(/^\d+$/.test(t))n=r.value===t;else{n=(t.charAt(0)+r.value+t.charAt(t.length-1)).toUpperCase().includes(t.toUpperCase())}if(n){l((e=>e+1)),f(0);const e=s.substring(0,i-1)+s.substring(i);o(e);const t=_.filter(((e,t)=>t!==g));0===t.length&&b(!0),u(t)}else f((e=>2===e?(l(0),W(!0),setTimeout((()=>{W(!1),f(0)}),1e3),e+1):e+1)),r.classList.add(a.wrong)}},dangerouslySetInnerHTML:{__html:m}}),(0,n.jsx)("div",{className:a.mistakes,children:"\u2716".repeat(C)}),(0,n.jsxs)("div",{className:a.score,children:[(0,n.jsx)("span",{className:a.star,children:"\u2605"})," ",c]})]})})]})}}}]);
//# sourceMappingURL=893.9d4c4fc0.chunk.js.map
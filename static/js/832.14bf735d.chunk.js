"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[832],{1832:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var l=t(2791);const o="DiamondNine_interactiveSubTitle__0rKD+",i="DiamondNine_GameArea__fVsYP",a="DiamondNine_diamondFormation__VHacg",c="DiamondNine_diamondRow__3h5oS",s="DiamondNine_sideCollection__-gAf5",r="DiamondNine_tile__4ZQIK",d="DiamondNine_diamondTile__3pD0I",u="DiamondNine_selected__MrRL1",m="DiamondNine_editIcon__-1zxJ";var _=t(5249),h=t(184);const p=e=>{let{text:n}=e;const[t,p]=(0,l.useState)(""),[N,w]=(0,l.useState)([]),[v,x]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),[I,j]=(0,l.useState)({});(0,l.useEffect)((()=>{const[e,t,...l]=n.split("\n").filter(Boolean),o={};e.startsWith("OPTIONS:")&&e.replace("OPTIONS:","").split(",").forEach((e=>{const[n,t]=e.split("=");o[n]=t}));const i=l.map(((e,n)=>({id:n,content:e,row:-1,column:-1,isPlaceholder:!1}))),a=[{id:i.length,content:"",row:0,column:0,isPlaceholder:!0},{id:i.length+1,content:"",row:1,column:0,isPlaceholder:!0},{id:i.length+2,content:"",row:1,column:1,isPlaceholder:!0},{id:i.length+3,content:"",row:2,column:0,isPlaceholder:!0},{id:i.length+4,content:"",row:2,column:1,isPlaceholder:!0},{id:i.length+5,content:"",row:2,column:2,isPlaceholder:!0},{id:i.length+6,content:"",row:3,column:0,isPlaceholder:!0},{id:i.length+7,content:"",row:3,column:1,isPlaceholder:!0},{id:i.length+8,content:"",row:4,column:0,isPlaceholder:!0}];p(t),w([...i,...a]),g("yes"===o.editing.toLowerCase())}),[n]);const P=e=>{null!==v?(w((n=>{const t=n.map((e=>({...e}))),l=t.findIndex((e=>e.id===v)),o=t.findIndex((n=>n.id===e));if(-1===l||-1===o)return n;const i=t[l],a=t[o],c=i.row,s=i.column;return i.row=a.row,i.column=a.column,a.row=c,a.column=s,t})),x(null)):(e=>{x(v===e?null:e)})(e)},C=e=>{if(!e)return null;const n=-1===e.row&&-1===e.column;return(0,h.jsxs)("div",{className:"".concat(n?r:d," ").concat(v===e.id?u:""),onClick:()=>P(e.id),children:[e.content,f&&(0,h.jsx)("span",{className:m,onClick:n=>((e,n)=>{e.stopPropagation(),j({prompt:"Enter new text:",value:n.content,tileId:n.id})})(n,e),children:"\u270e"})]},e.id)};return(0,h.jsxs)(h.Fragment,{children:[I.prompt&&(0,h.jsx)(_.Z,{title:I.prompt,placeholder:"Type here...",value:I.value,onSubmit:e=>{w((n=>n.map((n=>n.id===I.tileId?{...n,content:e}:n)))),j({})},onClose:()=>j({})}),(0,h.jsx)("h1",{className:o,children:t}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("div",{className:a,children:[1,2,3,2,1].map(((e,n)=>(0,h.jsx)("div",{className:c,children:Array.from({length:e}).map(((e,t)=>{const l=N.find((e=>e.row===n&&e.column===t));return C(l)}))},n)))}),(0,h.jsx)("div",{className:s,children:N.filter((e=>-1===e.row&&-1===e.column)).map(C)})]})]})}},5249:(e,n,t)=>{t.d(n,{Z:()=>m});var l=t(2791);const o="InputModal_modalOverlay__Y-bWN",i="InputModal_modalContent__z50rT",a="InputModal_modalTitle__FCo0P",c="InputModal_inputField__IeKtc",s="InputModal_buttonGroup__3nwbY",r="InputModal_submitButton__irpiv",d="InputModal_cancelButton__xmt2G";var u=t(184);const m=e=>{let{title:n,placeholder:t,value:m="",onSubmit:_,onClose:h}=e;const[p,N]=(0,l.useState)(m);(0,l.useEffect)((()=>{N(m)}),[m]);const w=()=>{_(p),h()};return(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("h2",{className:a,children:n}),(0,u.jsx)("input",{type:"text",className:c,placeholder:t,value:p,onChange:e=>{N(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&w()},autoFocus:!0}),(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("button",{className:r,onClick:w,children:"Submit"}),(0,u.jsx)("button",{className:d,onClick:h,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=832.14bf735d.chunk.js.map
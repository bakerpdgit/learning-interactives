"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[748],{5748:(e,r,n)=>{n.r(r),n.d(r,{default:()=>g});var s=n(2791);const i={GameArea:"PrizePot_GameArea__+JVoK",prizeFund:"PrizePot_prizeFund__y+M23",coinBagAllocation:"PrizePot_coinBagAllocation__88lJl",question:"PrizePot_question__LV5BQ",prizePot:"PrizePot_prizePot__S0wyB",prizePotChange:"PrizePot_prizePotChange__pPsvI",answers:"PrizePot_answers__pdBvp",buttonWrapper:"PrizePot_buttonWrapper__obm-4",answerOption:"PrizePot_answerOption__StOUQ",dragOver:"PrizePot_dragOver__ZOyVc",moneyBag:"PrizePot_moneyBag__By8Lq",celebration:"PrizePot_celebration__c7jhq",scale:"PrizePot_scale__x-ay9",hide:"PrizePot_hide__3+RpL"};var t=n(1067),a=n(8422),o=n(184);const c="coinBag",l=e=>{let{id:r}=e;const[{isDragging:n},s]=(0,t.c)((()=>({type:c,item:{id:r},collect:e=>({isDragging:!!e.isDragging()})})));return(0,o.jsx)("div",{ref:s,style:{opacity:n?.5:1,fontSize:"3em",cursor:"move"},children:"\ud83d\udcb0"})},d=e=>{let{index:r,onDropCoinBag:n,children:s,allocations:t}=e;const[{isOver:d},p]=(0,a.L)((()=>({accept:c,drop:(e,s)=>n(r,e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:p,style:{border:d?"2px solid green":"1px solid gray",borderRadius:"20px",padding:"10px",margin:"5px",textAlign:"center",fontSize:"1em"},children:[s,(0,o.jsx)("div",{className:i.coinBagAllocation,children:t.map(((e,n)=>e===r&&(0,o.jsx)(l,{id:n},n)))})]})},p=e=>{let{onReturnCoinBag:r,children:n,allocations:s}=e;const[{isOver:t},d]=(0,a.L)((()=>({accept:c,drop:(e,n)=>r(e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:d,style:{border:t?"2px dashed green":"1px dashed grey",padding:"10px",borderRadius:"10px",textAlign:"center",minHeight:"100px"},children:[n,(0,o.jsx)("div",{className:i.prizeFund,children:s.map(((e,r)=>-1===e&&(0,o.jsx)(l,{id:r},r)))})]})};const g=function(e){let{text:r}=e;const[n,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(0),[l,g]=(0,s.useState)(128),u=n[a],[x,_]=(0,s.useState)(!1),[h,m]=(0,s.useState)({bags:[-1,-1,-1,-1]});(0,s.useEffect)((()=>{const e=r.split("\n\n").map((e=>{const r=e.split("\n");return{question:r[0],answers:r.slice(1).map((e=>({text:e.replace("*",""),isCorrect:e.includes("*")})))}}));t(e)}),[r]);const P=(e,r)=>{m((n=>{const s={...n};return s.bags[r]=e,s}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:i.prizePot,children:["Current Fund: $",l]}),x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:i.celebration,children:l>0?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83c\udf89"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83d\ude22"})})}),(0,o.jsx)("div",{className:i.buttonWrapper,children:(0,o.jsx)("button",{style:i.restartButton,onClick:()=>{g(128),c(0),m({bags:[-1,-1,-1,-1]}),_(!1)},children:"Try Again?"})})]}):u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{onReturnCoinBag:e=>{m((r=>{const n={...r};return n.bags[e]=-1,n}))},allocations:h.bags,children:(0,o.jsx)("div",{className:i.prizeFundTitle,children:"Prize Fund"})}),(0,o.jsx)("div",{className:i.buttonWrapper,children:(0,o.jsx)("button",{className:i.submitButton,disabled:h.bags.every((e=>-1===e)),onClick:()=>{const e=u.answers.findIndex((e=>e.isCorrect)),r=l/4,s=h.bags.filter((r=>r===e)).length*r*4,i=h.bags.filter((r=>r!==e&&-1!==r)).length*r,t=Math.ceil(l-i+s);g(t),a+1<n.length&&t>0?(c(a+1),m({bags:[-1,-1,-1,-1]})):_(!0)},children:"Submit Final Answer"})}),(0,o.jsx)("p",{className:i.question,children:u.question}),(0,o.jsx)("div",{className:i.gameArea,children:u&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:i.answers,children:u.answers.map(((e,r)=>(0,o.jsx)(d,{index:r,onDropCoinBag:P,allocations:h.bags,children:(0,o.jsx)("div",{className:"".concat(i.answerOption),onClick:()=>(e=>{m((r=>({...r,bags:r.bags.map((()=>e))})))})(r),children:e.text})},r)))})})})]})]})}}}]);
//# sourceMappingURL=748.7077ca48.chunk.js.map
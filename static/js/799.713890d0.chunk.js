"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[799],{9799:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(2791);const a="Timers_celebration__GNReZ",i="Timers_GameArea__G9MID",r="Timers_pauseButton__m94ak";var c=n(184);const l=e=>{let{label:t,remainingTime:n,height:s,initialTime:a}=e;const i=n/a*100,r={height:"".concat(s,"%"),padding:"10px",margin:"10px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid black",background:"linear-gradient(to left, #FFCCCC ".concat(i,"%, #ADD8E6 ").concat(i,"%)")};return(0,c.jsx)("div",{style:r,children:(0,c.jsxs)("span",{style:{fontSize:"xx-large"},children:[t," (",Math.max(0,Math.round(n)),")"]})})};function o(e,t){let n=null;n||(n=new(window.AudioContext||window.webkitAudioContext)),"suspended"===n.state&&n.resume();const s=n.createOscillator();s.type="sawtooth",s.frequency.setValueAtTime(e,n.currentTime);const a=n.createBiquadFilter();a.type="lowpass",a.frequency.setValueAtTime(2e3,n.currentTime),s.connect(a),a.connect(n.destination),s.start(),s.stop(n.currentTime+t)}const u=function(e){let{text:t}=e;const[n,u]=(0,s.useState)(!1),[m,d]=(0,s.useState)(!1),p=t.split("\n"),h=p.map((e=>parseInt(e.split(":")[1],10))),[w]=(0,s.useState)(Date.now()),[f,x]=(0,s.useState)(Date.now()),[T,g]=(0,s.useState)(!1),[v,D]=(0,s.useState)(0),[_,b]=(0,s.useState)(null);(0,s.useEffect)((()=>{let e;return T?clearInterval(e):(()=>{clearInterval(e);const t=Date.now();e=setTimeout((()=>{x(Date.now()),e=setInterval((()=>{x(Date.now())}),1e3)}),1e3-(t-w-v)%1e3)})(),()=>{clearInterval(e)}}),[T,v,w]);const C=(()=>{let e=(f-w-v)/1e3,t=0;return h.map(((n,s)=>{if(e>t&&e<t+n){const s=n-(e-t);return t+=n,s}return e>=t+n?(t+=n,0):(t+=n,n)}))})();(0,s.useEffect)((()=>{const e=h.reduce(((e,t)=>e+t),0);(f-w-v)/1e3>=e&&!m&&(u(!0),o(440,.3),setTimeout((()=>o(466.16,.3)),300),setTimeout((()=>o(493.88,.3)),600),setTimeout((()=>o(493.88,.3)),900),d(!0))}),[f,h,w,v,m]);const k=p.map(((e,t)=>{const[n]=e.split(":"),s=h[t]/h.reduce(((e,t)=>e+t),0)*100;return(0,c.jsx)(l,{label:n,remainingTime:C[t],height:s,initialTime:h[t]},n)}));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)("button",{onClick:()=>{if(T){const e=Date.now()-_;D((t=>t+e)),x(Date.now())}else b(Date.now());g(!T)},className:r,children:T?"\u25b6\ufe0f":"\u23f8\ufe0f"}),k]}),n&&(0,c.jsx)("div",{className:a,children:"\ud83c\udf89"})]})}}}]);
//# sourceMappingURL=799.713890d0.chunk.js.map
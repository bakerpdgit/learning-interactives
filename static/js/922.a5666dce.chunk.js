"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[922],{4657:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(8832),r=n(184);function l(e){const t=Math.random().toString(36).substring(2,10),n=e.split("$$"),l=[];return n.forEach(((e,n)=>{n%2===1?l.push((0,r.jsx)(s.InlineMath,{math:e},"MCIM".concat(t,"-").concat(n))):l.push((0,r.jsx)("span",{children:e},"MCSP$".concat(t,"-{index}")))})),l}const c=function(e){let{text:t,renderNewLines:n=!1}=e;return n&&(t=(e=>e.replace(/\\n/g,"\n"))(t)),(0,r.jsx)("div",{style:{whiteSpace:t.includes("\n")&&n?"pre-wrap":"normal",marginTop:t.includes("$$")?"0.5em":"0"},children:l(t)})}},7922:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(2791),r=n(4657),l=n(184);const c=function(e){let{text:t}=e;const[n,...c]=t.split("\n\n"),i=n.startsWith("OPTIONS:")?n:null,a=i?c.join("\n\n"):t,o={time:"unlimited",scroll:"yes",immediate:"no",...i&&i.startsWith("OPTIONS:")?Object.fromEntries(i.slice(8).split(",").map((e=>e.split("=")))):{}};function u(e){let t,n=e.length;for(;0!==n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e}const[d]=(0,s.useState)((()=>a.split("\n\n").map((e=>{const[t,...n]=e.split("\n");return{question:t,answers:u(n.map((e=>({text:e.replace("*",""),correct:e.startsWith("*")}))))}})))),[m,h]=(0,s.useState)(o.time&&!isNaN(o.time)?parseInt(o.time):null),[x,p]=(0,s.useState)(Array(d.length).fill(null)),[j,w]=(0,s.useState)(null),[N,f]=(0,s.useState)(0),b=(0,s.useCallback)((()=>{const e=x.reduce(((e,t,n)=>d[n].answers[t]&&d[n].answers[t].correct?e+1:e),0),t=d.filter((e=>e.answers.some((e=>e.correct)))).length;w({correct:e,total:t}),h(null)}),[x,d]);(0,s.useEffect)((()=>{if(null===j){if(null!==m&&m>0){const e=setTimeout((()=>h(m-1)),1e3);return()=>clearTimeout(e)}0===m&&b()}}),[m,b,j]);const v=(e,t)=>{if(null!==j)return;if("yes"===o.immediate&&null!==x[e])return;const n=[...x];n[e]=t,p(n)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"submissionInfo",children:[null==j&&(0,l.jsxs)("button",{onClick:b,disabled:null!==j,children:["Submit Answers",null!==m?" (".concat(m,"s)"):""]}),null!==j&&(0,l.jsxs)("div",{className:"score",children:["Score: ",j.correct,"/",j.total]})]}),(0,l.jsx)("div",{className:"multiChoiceContainer",children:(0,l.jsx)("div",{className:"gameArea",children:"yes"===o.scroll?d.map(((e,t)=>(0,l.jsxs)("div",{className:"questionBox",children:[(0,l.jsxs)("div",{className:"questionText",children:[t+1,"."," ",(0,l.jsx)(r.Z,{text:e.question,renderNewLines:!0})]}),e.answers.map(((n,s)=>(0,l.jsx)("button",{className:"answerOption ".concat(x[t]===s?null!==j&&!n.correct&&e.answers.some((e=>e.correct))?"incorrectAnswer":"selected":""," ").concat(null===j&&"yes"!==o.immediate||!n.correct||null===x[t]?"":"correctAnswer"),onClick:()=>v(t,s),children:(0,l.jsx)(r.Z,{text:n.text,renderNewLines:!0})},s)))]},t))):(0,l.jsxs)("div",{className:"questionBox",children:[(0,l.jsxs)("div",{className:"questionText",children:[N+1,"."," ",(0,l.jsx)(r.Z,{text:d[N].question,renderNewLines:!0})]}),d[N].answers.map(((e,t)=>(0,l.jsx)("button",{className:"answerOption ".concat(x[N]===t?null!==j&&!e.correct&&d[N].answers.some((e=>e.correct))?"incorrectAnswer":"selected":""," ").concat(null===j&&"yes"!==o.immediate||!e.correct||null===x[N]?"":"correctAnswer"),onClick:()=>v(N,t),children:(0,l.jsx)(r.Z,{text:e.text,renderNewLines:!0})},t))),(0,l.jsxs)("div",{className:"navigationButtons",children:[(0,l.jsx)("button",{onClick:()=>f(0),disabled:0===N,children:"<< First"}),(0,l.jsx)("button",{onClick:()=>f(N-1),disabled:0===N,children:"< Previous"}),(0,l.jsx)("button",{onClick:()=>f(N+1),disabled:N===d.length-1,children:"> Next"}),(0,l.jsx)("button",{onClick:()=>f(d.length-1),disabled:N===d.length-1,children:">> Last"})]})]})})})]})}}}]);
//# sourceMappingURL=922.a5666dce.chunk.js.map
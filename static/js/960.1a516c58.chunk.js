"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[960],{3960:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var r=s(2791),a=s(184);const n=function(e){let{text:t}=e;const s=e=>{if(e.length<=1)return e;let t=[...e];do{for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}}while(t.every(((t,s)=>t===e[s])));return t},{pairs:n,hasSingleWordAnswers:l}=(e=>{const t=e.split("\n\n");let r={};var a;t[0].startsWith("OPTIONS:")&&(a=t.shift(),r=Object.fromEntries(a.substring(8).split(";").map((e=>e.split("=")))));const n=r.mode||"letter",l=t.map((e=>{const[t,r]=e.split("\n");return{word:s("word"===n?r.split(" "):r.split("")),originalWord:r,clue:t,correctAnswer:"word"===n?r.replace(/\s+/g,""):r}})),i="word"===n&&(e=>e.some((e=>1===e.word.length)))(l);return{pairs:l,hasSingleWordAnswers:i}})(t),[i,c]=(0,r.useState)(n),[o,d]=(0,r.useState)(l),p=(e,t,s)=>{e.preventDefault();const{pairIndex:r,tileIndex:a}=JSON.parse(e.dataTransfer.getData("text/plain"));r===t&&((e,t,s)=>{const r=[...i],a=r[e],[n]=a.word.splice(t,1);if(a.word.splice(s,0,n),c(r),i[e].word.join("")===i[e].correctAnswer){const t=[...i];t[e].completed=!0,c(t)}})(t,a,s)},u=e=>{e.preventDefault()},[h,m]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{i.every((e=>e.completed))&&(m(!0),setTimeout((()=>{m(!1)}),3e3))}),[i]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"interactiveContainer",children:(0,a.jsxs)("div",{className:"anagramContainer",children:[o&&(0,a.jsx)("div",{className:"error",children:"The puzzle below is not suitable because all answers should have more than one word to use word mode."}),h&&(0,a.jsx)("div",{className:"celebration",children:"\ud83d\ude03"}),i.map(((e,t)=>(0,a.jsxs)("div",{className:"pair ".concat(e.completed?"completed":""),children:[(0,a.jsx)("div",{className:"clue",children:e.clue}),(0,a.jsx)("div",{className:"word",onDragOver:u,children:e.word.map(((s,r)=>(0,a.jsx)("span",{className:"tile ".concat(r===e.selectedTile?"selected":""),draggable:!e.completed,onDragStart:e=>((e,t,s)=>{e.dataTransfer.setData("text/plain",JSON.stringify({pairIndex:t,tileIndex:s}))})(e,t,r),onDrop:e=>p(e,t,r),children:s},r)))})]},t)))]})})})}}}]);
//# sourceMappingURL=960.1a516c58.chunk.js.map
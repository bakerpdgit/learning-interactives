"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[1148],{1148:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var s=n(2791),o=n(4657),r=n(9962),i=n.n(r),c=n(5249),a=n(184);const l=function(e){let{text:t}=e;const[n,r]=(0,s.useState)(t.split("\n")),[l,d]=(0,s.useState)(0),[u,h]=(0,s.useState)(!1),[m,g]=(0,s.useState)({}),p=(0,s.useRef)(((e,t)=>{const n=e.getBoundingClientRect();t.forEach((e=>{(e=>{const t=document.getElementById(e);let n;t.querySelectorAll(".resize-icon").forEach((e=>{e.addEventListener("mousedown",(e=>{e.stopPropagation(),e.preventDefault(),n=e.target,document.addEventListener("mousemove",s),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",s)}))}))}));const s=e=>{const s=t.getBoundingClientRect();let o=e.clientX-s.x,r=e.clientY-s.y;n.classList.contains("resize-bottom")?t.style.height=r+"px":n.classList.contains("resize-right")&&(t.style.width=o+"px")}})(e.id);let s=!0;for(;s;){const o=Math.random()*(n.width-e.offsetWidth),r=Math.random()*(n.height-e.offsetHeight);e.style.left=o+"px",e.style.top=r+"px",s=x(e,t)}}))})),x=(e,t)=>{const n=e.getBoundingClientRect();for(const s of t){if(e===s)continue;const t=s.getBoundingClientRect();if(n.x<t.x+t.width&&n.x+n.width>t.x&&n.y<t.y+t.height&&n.y+n.height>t.y)return!0}return!1};return(0,s.useEffect)((()=>{const e=()=>{const e=document.querySelector(".interactiveContainer"),t=document.querySelectorAll(".draggableBox");e&&t.length&&p.current(e,t)},t=document.querySelector(".interactiveContainer"),n=document.querySelectorAll(".draggableBox");return u?n.length&&p.current(t,[n[n.length-1]]):(p.current(t,n),h(!0)),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[u]),(0,a.jsxs)(a.Fragment,{children:[m.prompt&&(0,a.jsx)(c.Z,{title:m.prompt,placeholder:"Type here...",value:m.value,onSubmit:e=>{e&&r((t=>[...t,e])),g({})},onClose:()=>g({})}),(0,a.jsxs)("div",{className:"interactiveContainer",children:[(0,a.jsx)("button",{onClick:()=>{g({prompt:"Please enter text for the new item:",value:""})},className:"addItem",children:"Add item"}),n.map(((e,t)=>""!==e&&(0,a.jsx)(i(),{children:(0,a.jsxs)("div",{className:"draggableBox",id:"box-".concat(t),onContextMenu:e=>((e,t)=>{t.preventDefault(),r((t=>t.map(((t,n)=>n===e?"":t))))})(t,e),onDoubleClick:()=>{const e=(d(l+1),l+1);document.getElementById("box-".concat(t)).style.zIndex=e},children:[(0,a.jsx)("div",{className:"resize-icon resize-bottom"}),(0,a.jsx)("div",{className:"resize-icon resize-right"}),(0,a.jsx)(o.Z,{text:e,renderNewLines:!0})]})},t)))]})]})}},4657:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(8832),o=n(184);function r(e){const t=Math.random().toString(36).substring(2,10),n=e.split("$$"),r=[];return n.forEach(((e,n)=>{n%2===1?r.push((0,o.jsx)(s.InlineMath,{math:e},"MCIM-".concat(t,"-").concat(n))):r.push((0,o.jsx)("span",{children:e},"MCSP-".concat(t,"-").concat(n)))})),r}const i=function(e){let{text:t,renderNewLines:n=!1}=e;return n&&(t=(e=>e.replace(/\\n/g,"\n"))(t)),(0,o.jsx)("div",{style:{whiteSpace:t.includes("\n")&&n?"pre-wrap":"normal",marginTop:t.includes("$$")?"0.5em":"0"},children:r(t)})}}}]);
//# sourceMappingURL=1148.cf4cf538.chunk.js.map
"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[852],{852:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var c=a(2791);const s={timer:"TimeRecorder_timer__ZPnoz",button:"TimeRecorder_button__ATNIX",controls:"TimeRecorder_controls__KXaWb",categories:"TimeRecorder_categories__DlZgo",category:"TimeRecorder_category__GO6T5",categoryButton:"TimeRecorder_categoryButton__HGinF",selected:"TimeRecorder_selected__YMAZG",categoryTime:"TimeRecorder_categoryTime__g9v87",GameArea:"TimeRecorder_GameArea__yTGZI"};var r=a(184);const i=e=>{let{time:t}=e;const a=Math.floor(t/60),c=t%60;return(0,r.jsxs)("div",{className:s.timer,children:[a,":",c<10?"0".concat(c):c]})},l=e=>{let{onClick:t,label:a,disabled:c}=e;return(0,r.jsx)("button",{onClick:t,className:s.button,disabled:c,children:a})},o=e=>{let{name:t,time:a,isSelected:c,onClick:i}=e;const l=Math.floor(a/60),o=a%60;return(0,r.jsxs)("div",{className:s.category,children:[(0,r.jsx)("div",{className:"".concat(s.categoryButton," ").concat(c?s.selected:""),onClick:()=>i(t),children:t}),(0,r.jsxs)("div",{className:s.categoryTime,children:[l,":",o<10?"0".concat(o):o]})]})},n=e=>{let{initialTime:t=0,categories:a=[]}=e;const[n,d]=(0,c.useState)(t),[m,u]=(0,c.useState)(!1),[_,T]=(0,c.useState)(!1),[g,h]=(0,c.useState)(null),[x,j]=(0,c.useState)(0),[b,v]=(0,c.useState)(null),[R,S]=(0,c.useState)("OTHER"),[y,N]=(0,c.useState)(a.reduce(((e,t)=>(e[t]=0,e)),{OTHER:0})),[k,p]=(0,c.useState)(!1);(0,c.useEffect)((()=>{let e;return m&&!_&&(e=setInterval((()=>{const a=(new Date).getTime(),c=Math.floor((a-b)/1e3),s=Math.floor((a-g-x)/1e3),r=t>0?Math.max(t-s,0):s;d(r),N((e=>{const t={...e};return t[R]+=c,t})),v(a),0===r&&t>0&&(clearInterval(e),u(!1),T(!1),p(!0))}),1e3)),()=>clearInterval(e)}),[m,_,g,x,t,b,R]);const f=e=>{S(e)};return(0,r.jsxs)("div",{className:s.timeRecorder,children:[(0,r.jsx)(i,{time:n}),(0,r.jsxs)("div",{className:s.controls,children:[(0,r.jsx)(l,{onClick:()=>{const e=(new Date).getTime();v(e),m?_?(T(!1),j(x+(e-b))):(T(!0),j(x+(e-b))):(u(!0),T(!1),h(e))},label:_||!m?"START":"PAUSE",disabled:k}),(0,r.jsx)(l,{onClick:()=>{u(!1),T(!1),p(!0)},label:"END",disabled:k})]}),(0,r.jsx)("div",{className:s.categories,children:["OTHER",...a].map((e=>(0,r.jsx)(o,{name:e,time:y[e],isSelected:R===e,onClick:f},e)))})]})};const d=function(e){let{text:t}=e;const a=t.split("\n"),c=a[0].startsWith("OPTIONS:time=")?parseInt(a[0].split("=")[1],10):0,i=a.slice(c?1:0);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:s.GameArea,children:(0,r.jsx)(n,{initialTime:c,categories:i})})})}}}]);
//# sourceMappingURL=852.e6e215d3.chunk.js.map
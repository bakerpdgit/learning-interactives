"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[209],{8209:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var s=r(2791);const d="WordSearch_GameArea__tAV2U",o="WordSearch_instructions__cyuSi",a="WordSearch_RevealButton__sQxtH",n="WordSearch_Container__jr9bd",c="WordSearch_WordSearchGrid__aeVss",l="WordSearch_WordSearchRow__ZqvBD",i="WordSearch_WordSearchCell__ohZaY",h="WordSearch_WordList__xjQX-",u="WordSearch_RevealedCell__7EwFz",f="WordSearch_SelectedCell__U1bv+",x="WordSearch_FoundCell__kpWJP",m="WordSearch_FoundWord__AOkoD",y="WordSearch_celebration__-OI9z";var p=r(184);function _(e,t,r){const s=r?[{dx:1,dy:0},{dx:0,dy:1},{dx:1,dy:1},{dx:-1,dy:1}]:[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:1},{dx:-1,dy:1},{dx:1,dy:-1},{dx:-1,dy:-1}];let d=Array.from({length:e},(()=>Array(e).fill(""))),o=[],a=[];t.forEach((t=>{let n=[],c=[],l=[];for(let o=0;o<e;o++)for(let a=0;a<e;a++)s.forEach((e=>{const{fits:s,hasOverlap:i,isIsolated:h}=g(d,t,o,a,e,r);if(s){const r={word:t,startRow:o,startCol:a,direction:e};h?(n.push(r),i&&(n.push(r),n.push(r),n.push(r),n.push(r))):i?c.push(r):l.push(r)}}));let i=n.length>0?n:c.length>0?c:l;if(!(i.length>0))return{grid:[],wordPlacements:[],usedCoordinates:[]};{const e=i[Math.floor(Math.random()*i.length)];w(d,e.word,e.startRow,e.startCol,e.direction),o.push(e);for(let r=0;r<t.length;r++){const t=e.startRow+r*e.direction.dy,s=e.startCol+r*e.direction.dx;a.push("".concat(t,"-").concat(s))}}}));for(let n=0;n<e;n++)for(let t=0;t<e;t++)""===d[n][t]&&(d[n][t]=String.fromCharCode(Math.floor(26*Math.random())+65));return{grid:d,wordPlacements:o,usedCoordinates:a}}function g(e,t,r,s,d,o){let a=!1,n=!0,c=e.map((e=>e.slice()));for(let l=0;l<t.length;l++){const n=r+l*d.dy,i=s+l*d.dx;if(n<0||n>=e.length||i<0||i>=e[0].length)return{fits:!1,hasOverlap:!1,isIsolated:!1};if(""!==e[n][i]&&e[n][i]!==t[l])return{fits:!1,hasOverlap:!1,isIsolated:!1};if(e[n][i]===t[l]){if(a=!0,o)return{fits:!1,hasOverlap:!0,isIsolated:!1};S(c,n,i)}}return n=function(e,t,r,s,d){for(let o=0;o<s;o++){if(!C(e,t+o*d.dy,r+o*d.dx))return!1}return!0}(c,r,s,t.length,d),{fits:!0,hasOverlap:a,isIsolated:n}}function S(e,t,r){[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}].forEach((s=>{let{dx:d,dy:o}=s;const a=t+o,n=r+d;a>=0&&a<e.length&&n>=0&&n<e[0].length&&(e[a][n]="")})),e[t][r]=""}function C(e,t,r){const s=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const{dx:d,dy:o}of s){const s=t+o,a=r+d;if(s>=0&&s<e.length&&a>=0&&a<e[0].length&&""!==e[s][a])return!1}return!0}const w=(e,t,r,s,d)=>{for(let o=0;o<t.length;o++){const a=r+o*d.dy,n=s+o*d.dx;e[a][n]=t[o]}},j=function(e){let{text:t}=e;const[r,g]=(0,s.useState)(12),[S,C]=(0,s.useState)(!1),[w,j]=(0,s.useState)(""),[v,W]=(0,s.useState)([]),[N,k]=(0,s.useState)([]),[R,b]=(0,s.useState)(!1),[F,L]=(0,s.useState)(!1),[I,O]=(0,s.useState)([]),[z,E]=(0,s.useState)([]),[A,M]=(0,s.useState)([]),[P,U]=(0,s.useState)([]),[B,D]=(0,s.useState)(v.length),[G,Q]=(0,s.useState)(!1);function V(e,t){return z.includes("".concat(e,"-").concat(t))}(0,s.useEffect)((()=>{const e=t.split("\n"),r=e[0].slice(8).split(",");let s=!1,d=10,o=!0,a=!1;r.forEach((e=>{const[t,r]=e.split("=");"size"===t.trim().toLowerCase()?(d=parseInt(r),g(d)):"show"===t.trim().toLowerCase()?(o="yes"===r.trim().toLowerCase(),C(o)):"reveal"===t.trim().toLowerCase()?(a="yes"===r.trim().toLowerCase(),L(a)):"simple"===t.trim().toLowerCase()&&(s="yes"===r.trim().toLowerCase())})),j(e[1]);const n=e.slice(2).filter((e=>""!==e.trim())).map((e=>e.toUpperCase()));W(n),D(n.length);if(n.some((e=>e.length>d))||d>20||d<5)return void Q(!0);let c=0,l=!1;for(;c<3&&!l;){const{grid:e,wordPlacements:t,usedCoordinates:r}=_(d,n,s);0!==e.length?(k(e),O(t),E(r),l=!0):c++}l||Q(!0)}),[t,r]);const Z=e=>{U([...P,e]),M([]),D((e=>e-1))},q=e=>{const[t,r]=e,[s,d]=t.split("-").map(Number),[o,a]=r.split("-").map(Number);for(const{word:n,startRow:c,startCol:l,direction:i}of I){const{dx:e,dy:t}=i,r=n.length;if(s===c&&d===l&&o===c+(r-1)*t&&a===l+(r-1)*e)return void Z(n)}M([])};return G?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{children:w}),(0,p.jsx)("p",{className:o,children:"Failed to create wordsearch: refresh to try again or change the puzzle to use a different grid size."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{children:w}),(0,p.jsx)("p",{className:o,children:"Click the first and then last letter of a word to mark it in the grid."}),0===B&&v.length>0&&(0,p.jsx)("div",{className:y,children:"\ud83d\ude03"}),(0,p.jsxs)("div",{className:n,children:[(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("div",{className:c,style:{gridTemplateColumns:"repeat(".concat(r,", 1fr)")},children:N.map(((e,t)=>(0,p.jsx)("div",{className:l,children:e.map(((e,r)=>(0,p.jsx)("div",{className:"".concat(i," ").concat(R&&V(t,r)?u:""," ").concat(A.includes("".concat(t,"-").concat(r))?f:""," ").concat(P.some((e=>function(e,t,r){for(const{word:s,startRow:d,startCol:o,direction:a}of I)if(s===r){const{dx:s,dy:n}=a,c=r.length;for(let r=0;r<c;r++)if(e===d+r*n&&t===o+r*s)return!0}return!1}(t,r,e)))?x:""),onClick:()=>((e,t)=>{if(R)return;const r="".concat(e,"-").concat(t),s=[...A];2===A.length&&s.splice(0,2),s.push(r),M(s),2===s.length&&q(s)})(t,r),children:e},r)))},t)))}),!S&&(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("h2",{children:"Words to Find:"}),(0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:B})})]}),S&&(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("h2",{children:"Words to Find:"}),(0,p.jsx)("ul",{children:v.map(((e,t)=>(0,p.jsx)("li",{className:P.includes(e)?m:"",children:e},t)))})]})]}),F&&(0,p.jsx)("button",{onClick:()=>{b(!0)},className:a,children:"Reveal"})]})]})}}}]);
//# sourceMappingURL=209.785a8814.chunk.js.map
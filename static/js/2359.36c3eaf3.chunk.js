"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[2359],{2359:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(2791),i=r(5249);const c={heading:"OrderedLine_heading__5oF2V",orderedLineCanvas:"OrderedLine_orderedLineCanvas__tMnuJ",addItem:"OrderedLine_addItem__TF5lI",addItemBar:"OrderedLine_addItemBar__msYJf"};var u=r(184);const l=function(e){let{text:t}=e;const[r,l]=(0,n.useState)([]),[s,o]=(0,n.useState)([]),[h,d]=(0,n.useState)(!1),a=(0,n.useRef)(null),f=(0,n.useRef)([]),w=(0,n.useRef)([]),m=(0,n.useRef)([]),g=(0,n.useRef)(0),x=(0,n.useRef)(!1),v=(0,n.useRef)(null),p=(0,n.useRef)(!1),R=(0,n.useRef)(null),y=(0,n.useRef)(!1),L=(0,n.useRef)(!1),k=(0,n.useRef)(null),E=30,_=10,C=10;return(0,n.useEffect)((()=>{const e=t.split("\n").filter((e=>e.trim()));if(e.length<1)return;const[r,...n]=e,[i,c]=r.split("-");o([i,c]);const u=n.sort((()=>Math.random()-.5));l(u)}),[t]),(0,n.useEffect)((()=>{const e=a.current,t=e.getContext("2d");function n(){const r=window.devicePixelRatio||1;e.width=e.offsetWidth*r,e.height=e.offsetHeight*r,t.scale(r,r),g.current=.92*e.height/r,c(t,r,!0),u(t,r)}window.addEventListener("resize",n);const i=window.devicePixelRatio||1;function c(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const c=[],u=[],l=[];r.forEach(((s,o)=>{let h=(o+1)*e.width/(r.length+1)/n;f.current[o]&&!i&&(h=f.current[o]),c.push(h);const d=g.current-_-15-10;let a=Math.random()*(d-25)+25;w.current[o]&&!i&&(a=w.current[o]),u.push(a),t.font="16px Arial";let x=t.measureText(s).width+20,v=E;m.current[o]&&!i&&(x=m.current[o].width,v=m.current[o].height),l.push({width:x,height:v})})),f.current=c,w.current=u,m.current=l}function u(t,n){t.clearRect(0,0,e.width/n,e.height/n),t.strokeStyle="#000",t.lineWidth=2,t.beginPath(),t.moveTo(10,g.current),t.lineTo(e.width/n-10,g.current),t.stroke(),2===s.length&&(t.font="16px Arial",t.textAlign="left",t.fillText(s[0],10,g.current+20),t.textAlign="right",t.fillText(s[1],e.width/n-10,g.current+20)),r.forEach(((e,r)=>{const n=f.current[r],i=w.current[r];let{width:c,height:u}=m.current[r];t.font="16px Arial",t.textAlign="center",t.textBaseline="top",t.fillStyle="#000";const l=function(e,t,r){const n=t.split(" "),i=[];let c="";return n.forEach((t=>{const n=c?"".concat(c," ").concat(t):t,{width:u}=e.measureText(n);u>r&&c?(i.push(c),c=t):c=n})),c&&i.push(c),i}(t,e,c-20),s=18*l.length;u=Math.max(36,s+6),m.current[r].height=u;const o=i-s/2;t.fillStyle="#f0f0f0",t.fillRect(n-c/2,i-u/2,c,u),t.strokeStyle="#000",t.strokeRect(n-c/2,i-u/2,c,u),t.font="16px Arial",t.textAlign="center",t.textBaseline="top",t.fillStyle="#000",l.forEach(((e,r)=>{t.fillText(e,n,o+18*r)})),t.beginPath(),t.moveTo(n,i+u/2),t.lineTo(n,g.current-5),t.stroke(),t.fillStyle="#000",t.fillRect(n-5,g.current-5,_,_),t.fillRect(n+c/2-2.5,i-5,5,C)}))}function l(e,t,r){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height}function o(t){const n=e.getBoundingClientRect(),i=t.clientX-n.left,c=t.clientY-n.top;p.current=!1,R.current=null,y.current=!1,L.current=!1,k.current=null,x.current=!1,v.current=null;for(let e=0;e<r.length;e++){const t=f.current[e],r=w.current[e],{width:n,height:u}=m.current[e],s={x:t-5,y:g.current-5,width:_,height:_},o={x:t-n/2,y:r-u/2,width:n,height:u},h={x:t+n/2-2.5,y:r-5,width:5,height:C};if(l(i,c,s)){p.current=!0,R.current=e;break}if(l(i,c,h)){L.current=!0,k.current=e;break}if(l(i,c,o)){x.current=!0,v.current=e;break}}}function h(n){const c=e.getBoundingClientRect(),s=n.clientX-c.left,o=n.clientY-c.top;e.style.cursor="default";for(let t=0;t<r.length;t++){const r=f.current[t],n=w.current[t],{width:i,height:c}=m.current[t],u={x:r-5,y:g.current-5,width:_,height:_},h={x:r+i/2-2.5,y:n-5,width:5,height:C},d={x:r-i/2,y:n-c/2,width:i,height:c};if(l(s,o,u)){e.style.cursor="ns-resize";break}if(l(s,o,h)){e.style.cursor="ew-resize";break}if(l(s,o,d)){e.style.cursor="move";break}}if(x.current&&null!==v.current){const e=a.current,r=window.devicePixelRatio||1,n=10,i=e.width/r-10,c=Math.min(Math.max(s,n),i);f.current[v.current]=c,u(t,r)}else if(p.current&&null!==R.current){const e=25,r=g.current-_-15-50,n=Math.min(Math.max(o,e),r);w.current[R.current]=n,u(t,i)}else if(y.current&&null!==k.current){const e=k.current,r=w.current[e],n=m.current[e].height,c=n+(r-n/2-o);c>20&&(m.current[e].height=c),u(t,i)}else if(L.current&&null!==k.current){const e=k.current,r=m.current[e].width,n=r+(s-(f.current[e]+r/2));n>20&&(m.current[e].width=n),u(t,i)}}function d(){p.current=!1,R.current=null,y.current=!1,L.current=!1,k.current=null,x.current=!1,v.current=null}return e.width=e.offsetWidth*i,e.height=e.offsetHeight*i,t.scale(i,i),g.current=.92*e.height/i,c(t,i),u(t,i),e.addEventListener("mousedown",o),window.addEventListener("mousemove",h),window.addEventListener("mouseup",d),()=>{e.removeEventListener("mousedown",o),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d),window.removeEventListener("resize",n)}}),[r,s]),(0,u.jsxs)("div",{className:c.orderedLineContainer,children:[(0,u.jsx)("div",{className:c.addItemBar,children:(0,u.jsx)("button",{className:c.addItem,onClick:()=>{d(!0)},children:"Add Item"})}),h&&(0,u.jsx)(i.Z,{title:"Add a New Item",placeholder:"Type your item here...",value:"",onSubmit:e=>{e.trim()&&l((t=>[...t,e.trim()])),d(!1)},onClose:()=>d(!1),multiLine:!1}),(0,u.jsx)("div",{className:c.orderedLineCanvasContainer,children:(0,u.jsx)("canvas",{ref:a,className:c.orderedLineCanvas})})]})}}}]);
//# sourceMappingURL=2359.36c3eaf3.chunk.js.map
"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[209],{8209:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var d=r(2791);const s={interactiveSubTitle:"WordSearch_interactiveSubTitle__A1P3Z",GameArea:"WordSearch_GameArea__tAV2U",RevealButton:"WordSearch_RevealButton__sQxtH",Container:"WordSearch_Container__jr9bd",WordSearchGrid:"WordSearch_WordSearchGrid__aeVss",WordSearchRow:"WordSearch_WordSearchRow__ZqvBD",WordSearchCell:"WordSearch_WordSearchCell__ohZaY",WordList:"WordSearch_WordList__xjQX-",RevealedCell:"WordSearch_RevealedCell__7EwFz",SelectedCell:"WordSearch_SelectedCell__U1bv+",FoundCell:"WordSearch_FoundCell__kpWJP",FoundWord:"WordSearch_FoundWord__AOkoD",celebration:"WordSearch_celebration__-OI9z",scale:"WordSearch_scale__Ods1w",hide:"WordSearch_hide__8wt9y"};var o=r(184);function a(e,t,r){const d=r?[{dx:1,dy:0},{dx:0,dy:1},{dx:1,dy:1},{dx:-1,dy:1}]:[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:1},{dx:-1,dy:1},{dx:1,dy:-1},{dx:-1,dy:-1}];let s=Array.from({length:e},(()=>Array(e).fill(""))),o=[],a=[];t.forEach((t=>{let l=[],c=[],h=[];for(let o=0;o<e;o++)for(let a=0;a<e;a++)d.forEach((e=>{const{fits:d,hasOverlap:i,isIsolated:u}=n(s,t,o,a,e,r);if(d){const r={word:t,startRow:o,startCol:a,direction:e};u?(l.push(r),i&&(l.push(r),l.push(r),l.push(r),l.push(r))):i?c.push(r):h.push(r)}}));let u=l.length>0?l:c.length>0?c:h;if(!(u.length>0))return{grid:[],wordPlacements:[],usedCoordinates:[]};{const e=u[Math.floor(Math.random()*u.length)];i(s,e.word,e.startRow,e.startCol,e.direction),o.push(e);for(let r=0;r<t.length;r++){const t=e.startRow+r*e.direction.dy,d=e.startCol+r*e.direction.dx;a.push("".concat(t,"-").concat(d))}}}));for(let n=0;n<e;n++)for(let t=0;t<e;t++)""===s[n][t]&&(s[n][t]=String.fromCharCode(Math.floor(26*Math.random())+65));return{grid:s,wordPlacements:o,usedCoordinates:a}}function n(e,t,r,d,s,o){let a=!1,n=!0,i=e.map((e=>e.slice()));for(let c=0;c<t.length;c++){const n=r+c*s.dy,h=d+c*s.dx;if(n<0||n>=e.length||h<0||h>=e[0].length)return{fits:!1,hasOverlap:!1,isIsolated:!1};if(""!==e[n][h]&&e[n][h]!==t[c])return{fits:!1,hasOverlap:!1,isIsolated:!1};if(e[n][h]===t[c]){if(a=!0,o)return{fits:!1,hasOverlap:!0,isIsolated:!1};l(i,n,h)}}return n=function(e,t,r,d,s){for(let o=0;o<d;o++){if(!c(e,t+o*s.dy,r+o*s.dx))return!1}return!0}(i,r,d,t.length,s),{fits:!0,hasOverlap:a,isIsolated:n}}function l(e,t,r){[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}].forEach((d=>{let{dx:s,dy:o}=d;const a=t+o,n=r+s;a>=0&&a<e.length&&n>=0&&n<e[0].length&&(e[a][n]="")})),e[t][r]=""}function c(e,t,r){const d=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const{dx:s,dy:o}of d){const d=t+o,a=r+s;if(d>=0&&d<e.length&&a>=0&&a<e[0].length&&""!==e[d][a])return!1}return!0}const i=(e,t,r,d,s)=>{for(let o=0;o<t.length;o++){const a=r+o*s.dy,n=d+o*s.dx;e[a][n]=t[o]}},h=function(e){let{text:t}=e;const[r,n]=(0,d.useState)(12),[l,c]=(0,d.useState)(!1),[i,h]=(0,d.useState)(""),[u,f]=(0,d.useState)([]),[x,m]=(0,d.useState)([]),[_,y]=(0,d.useState)(!1),[S,p]=(0,d.useState)(!1),[C,g]=(0,d.useState)([]),[W,v]=(0,d.useState)([]),[w,j]=(0,d.useState)([]),[N,R]=(0,d.useState)([]),[b,F]=(0,d.useState)(u.length),[L,A]=(0,d.useState)(!1);function k(e,t){return W.includes("".concat(e,"-").concat(t))}(0,d.useEffect)((()=>{const e=t.split("\n"),r=e[0].slice(8).split(",");let d=!1,s=10,o=!0,l=!1;r.forEach((e=>{const[t,r]=e.split("=");"size"===t.trim().toLowerCase()?(s=parseInt(r),n(s)):"show"===t.trim().toLowerCase()?(o="yes"===r.trim().toLowerCase(),c(o)):"reveal"===t.trim().toLowerCase()?(l="yes"===r.trim().toLowerCase(),p(l)):"simple"===t.trim().toLowerCase()&&(d="yes"===r.trim().toLowerCase())})),h(e[1]);const i=e.slice(2).filter((e=>""!==e.trim())).map((e=>e.toUpperCase()));f(i),F(i.length);if(i.some((e=>e.length>s))||s>20||s<5)return void A(!0);let u=0,x=!1;for(;u<3&&!x;){const{grid:e,wordPlacements:t,usedCoordinates:r}=a(s,i,d);0!==e.length?(m(e),g(t),v(r),x=!0):u++}x||A(!0)}),[t,r]);const O=e=>{R([...N,e]),j([]),F((e=>e-1))},G=e=>{const[t,r]=e,[d,s]=t.split("-").map(Number),[o,a]=r.split("-").map(Number);for(const{word:n,startRow:l,startCol:c,direction:i}of C){const{dx:e,dy:t}=i,r=n.length;if(d===l&&s===c&&o===l+(r-1)*t&&a===c+(r-1)*e)return void O(n)}j([])};return L?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.interactiveSubTitle,children:i}),(0,o.jsx)("div",{className:s.GameArea,children:(0,o.jsx)("p",{className:s.instructions,children:"Failed to create wordsearch: refresh to try again or change the puzzle to use a different grid size."})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.interactiveSubTitle,children:i}),0===b&&u.length>0&&(0,o.jsx)("div",{className:s.celebration,children:"\ud83d\ude03"}),(0,o.jsxs)("div",{className:s.Container,children:[(0,o.jsxs)("div",{className:s.GameArea,children:[(0,o.jsx)("div",{className:s.WordSearchGrid,style:{gridTemplateColumns:"repeat(".concat(r,", 1fr)")},children:x.map(((e,t)=>(0,o.jsx)("div",{className:s.WordSearchRow,children:e.map(((e,r)=>(0,o.jsx)("div",{className:"".concat(s.WordSearchCell," ").concat(_&&k(t,r)?s.RevealedCell:""," ").concat(w.includes("".concat(t,"-").concat(r))?s.SelectedCell:""," ").concat(N.some((e=>function(e,t,r){for(const{word:d,startRow:s,startCol:o,direction:a}of C)if(d===r){const{dx:d,dy:n}=a,l=r.length;for(let r=0;r<l;r++)if(e===s+r*n&&t===o+r*d)return!0}return!1}(t,r,e)))?s.FoundCell:""),onClick:()=>((e,t)=>{if(_)return;const r="".concat(e,"-").concat(t),d=[...w];2===w.length&&d.splice(0,2),d.push(r),j(d),2===d.length&&G(d)})(t,r),children:e},r)))},t)))}),!l&&(0,o.jsxs)("div",{className:s.WordList,children:[(0,o.jsx)("h2",{children:"Words to Find:"}),(0,o.jsx)("ul",{children:(0,o.jsx)("li",{children:b})})]}),l&&(0,o.jsxs)("div",{className:s.WordList,children:[(0,o.jsx)("h2",{children:"Words to Find:"}),(0,o.jsx)("ul",{children:u.map(((e,t)=>(0,o.jsx)("li",{className:N.includes(e)?s.FoundWord:"",children:e},t)))})]})]}),S&&(0,o.jsx)("button",{onClick:()=>{y(!0)},className:s.RevealButton,children:"Reveal"})]})]})}}}]);
//# sourceMappingURL=209.cf8fb436.chunk.js.map
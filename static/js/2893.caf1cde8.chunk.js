"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[2893],{2893:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(2791);const n={wordCompleteContainer:"WordComplete_wordCompleteContainer__u+Avz",progress:"WordComplete_progress__b4PP4",textArea:"WordComplete_textArea__f1b5V",missingInput:"WordComplete_missingInput__7-9rq",missing:"WordComplete_missing__uEkvg",wrong:"WordComplete_wrong__umdpK",score:"WordComplete_score__fv7CU",star:"WordComplete_star__CMzUW",todo:"WordComplete_todo__QEmCF",correctWordContainer:"WordComplete_correctWordContainer__aER0J",mistakes:"WordComplete_mistakes__PBtRR",celebration:"WordComplete_celebration__49W2H",scale:"WordComplete_scale__GHkp6",hide:"WordComplete_hide__BBDEa",moveUpDown:"WordComplete_moveUpDown__9NHpI"};var o=s(184);const r=function(e){let{text:t}=e;const s=(t.match(/\*([a-zA-Z0-9]+)(?=[ ,.?!]|$)/g)||[]).map((e=>e.substring(1))),[r,l]=(0,a.useState)(t),[c,i]=(0,a.useState)(0),[d,m]=(0,a.useState)(0),[p,_]=(0,a.useState)(r),[u,g]=(0,a.useState)(s),[h,C]=(0,a.useState)(-1),[f,W]=(0,a.useState)(0),[x,v]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{let e=r;if(0===u.length)return;const t=Math.floor(Math.random()*u.length),s=u[t];let a,o=[];const l=new RegExp("\\*".concat(s,"\\b"),"g");for(;a=l.exec(e);)o.push(a.index);if(0===o.length)return;let c=o[Math.floor(Math.random()*o.length)]+1;const i=/\d/.test(s),d=!i&&s.length>2?s.charAt(0):"",p=!i&&s.length>2?s.charAt(s.length-1):"";e=e.substring(0,c)+'<span class="'.concat(n.missing,'">').concat(d,'<input type="text" class="').concat(n.missingInput,'" data-word="').concat(s,'" value="" size="').concat(Math.min(s.length-1),'">').concat(p,"</span>")+e.substring(c+s.length),e=e.replace(/\*/g,""),_(e),C(t),m(c)}),[r,u]),(0,a.useEffect)((()=>{b&&_(r)}),[b,p,r]),(0,a.useEffect)((()=>{const e=document.querySelector(".".concat(n.missingInput));e&&e.focus()}),[p]),(0,o.jsxs)(o.Fragment,{children:[b?(0,o.jsx)("div",{className:n.celebration,children:(0,o.jsx)("span",{className:n.emoji,role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}):null,x&&(0,o.jsx)("div",{className:n.correctWordContainer,children:u[h]}),(0,o.jsx)("div",{className:n.wordCompleteContainer,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:n.textArea,onKeyUp:e=>{if("Enter"===e.key){const t=u[h],s=e.target;let a;if(/^\d+$/.test(t))a=s.value===t;else{a=(t.charAt(0)+s.value+t.charAt(t.length-1)).toUpperCase().includes(t.toUpperCase())}if(a){i((e=>e+1)),W(0);const e=r.substring(0,d-1)+r.substring(d);l(e);const t=u.filter(((e,t)=>t!==h));0===t.length&&j(!0),g(t)}else W((e=>2===e?(i(0),v(!0),setTimeout((()=>{v(!1),W(0)}),1e3),e+1):e+1)),s.classList.add(n.wrong)}},dangerouslySetInnerHTML:{__html:p}}),(0,o.jsx)("div",{className:n.mistakes,children:"\u2716".repeat(f)}),(0,o.jsxs)("div",{className:n.score,children:[(0,o.jsx)("span",{className:n.star,children:"\u2605"})," ",c,"\xa0\xa0\xa0",(0,o.jsx)("span",{className:n.todo,children:"\ud83d\udcdd "}),u.length]})]})})]})}}}]);
//# sourceMappingURL=2893.caf1cde8.chunk.js.map
"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[5748],{5748:(e,s,i)=>{i.r(s),i.d(s,{default:()=>p});var n=i(2791);const r={GameArea:"PrizePot_GameArea__X27tR",prizeFund:"PrizePot_prizeFund__y51g5",coinBagAllocation:"PrizePot_coinBagAllocation__4hiGi",question:"PrizePot_question__7qTdK",prizePot:"PrizePot_prizePot__7DxTl",prizePotChange:"PrizePot_prizePotChange__pIR93",answers:"PrizePot_answers__+elEN",buttonWrapper:"PrizePot_buttonWrapper__eRC-x",answerOption:"PrizePot_answerOption__+3DWJ",dragOver:"PrizePot_dragOver__KQKPS",moneyBag:"PrizePot_moneyBag__X9TZN",celebration:"PrizePot_celebration__5Sluo",scale:"PrizePot_scale__629JT",hide:"PrizePot_hide__3BxK7"};var t=i(1067),a=i(8422),o=i(184);const c="coinBag",l=e=>{let{id:s}=e;const[{isDragging:i},n]=(0,t.c)((()=>({type:c,item:{id:s},collect:e=>({isDragging:!!e.isDragging()})})));return(0,o.jsx)("div",{ref:n,style:{opacity:i?.5:1,fontSize:"3em",cursor:"move"},children:"\ud83d\udcb0"})},d=e=>{let{index:s,onDropCoinBag:i,children:n,allocations:t}=e;const[{isOver:d},g]=(0,a.L)((()=>({accept:c,drop:(e,n)=>i(s,e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:g,style:{border:d?"2px solid green":"1px solid gray",borderRadius:"20px",padding:"10px",margin:"5px",textAlign:"center",fontSize:"1em"},children:[n,(0,o.jsx)("div",{className:r.coinBagAllocation,children:t.map(((e,i)=>e===s&&(0,o.jsx)(l,{id:i},i)))})]})},g=e=>{let{onReturnCoinBag:s,children:i,allocations:n}=e;const[{isOver:t},d]=(0,a.L)((()=>({accept:c,drop:(e,i)=>s(e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:d,style:{border:t?"2px dashed green":"1px dashed grey",padding:"10px",borderRadius:"10px",textAlign:"center",minHeight:"100px"},children:[i,(0,o.jsx)("div",{className:r.prizeFund,children:n.map(((e,s)=>-1===e&&(0,o.jsx)(l,{id:s},s)))})]})};const p=function(e){let{text:s}=e;const[i,t]=(0,n.useState)([]),[a,c]=(0,n.useState)(0),[l,p]=(0,n.useState)(128),x=i[a],[u,_]=(0,n.useState)(!1),[h,m]=(0,n.useState)({bags:[-1,-1,-1,-1]});(0,n.useEffect)((()=>{const e=s.split("\n\n").map((e=>{const s=e.split("\n");return{question:s[0],answers:s.slice(1).map((e=>({text:e.replace("*",""),isCorrect:e.includes("*")})))}}));t(e)}),[s]);const P=(e,s)=>{m((i=>{const n={...i};return n.bags[s]=e,n}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:r.prizePot,children:["Current Fund: $",l]}),u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:r.celebration,children:l>0?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83c\udf89"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83d\ude22"})})}),(0,o.jsx)("div",{className:r.buttonWrapper,children:(0,o.jsx)("button",{style:r.restartButton,onClick:()=>{p(128),c(0),m({bags:[-1,-1,-1,-1]}),_(!1)},children:"Try Again?"})})]}):x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g,{onReturnCoinBag:e=>{m((s=>{const i={...s};return i.bags[e]=-1,i}))},allocations:h.bags,children:(0,o.jsx)("div",{className:r.prizeFundTitle,children:"Prize Fund"})}),(0,o.jsx)("div",{className:r.buttonWrapper,children:(0,o.jsx)("button",{className:r.submitButton,disabled:h.bags.every((e=>-1===e)),onClick:()=>{const e=x.answers.findIndex((e=>e.isCorrect)),s=l/4,n=h.bags.filter((s=>s===e)).length*s*4,r=h.bags.filter((s=>s!==e&&-1!==s)).length*s,t=Math.ceil(l-r+n);p(t),a+1<i.length&&t>0?(c(a+1),m({bags:[-1,-1,-1,-1]})):_(!0)},children:"Submit Final Answer"})}),(0,o.jsx)("p",{className:r.question,children:x.question}),(0,o.jsx)("div",{className:r.gameArea,children:x&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:r.answers,children:x.answers.map(((e,s)=>(0,o.jsx)(d,{index:s,onDropCoinBag:P,allocations:h.bags,children:(0,o.jsx)("div",{className:"".concat(r.answerOption),onClick:()=>(e=>{m((s=>({...s,bags:s.bags.map((()=>e))})))})(s),children:e.text})},s)))})})})]})]})}}}]);
//# sourceMappingURL=5748.f5a72bf3.chunk.js.map
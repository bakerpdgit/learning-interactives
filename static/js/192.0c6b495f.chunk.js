"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[192],{6192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(2791);const i="RandomWheel_GameArea__ypUzU",l="RandomWheel_instructions__6oAtc",a="RandomWheel_GameWheel__4M8Ku",r="RandomWheel_ItemsList__pEfjK",o="RandomWheel_Item__gSGPd",c="RandomWheel_celebration__A1WWm";var h=n(184);const u=function(e){let{text:t}=e;const[n,u]=(0,s.useState)([]),[m,d]=(0,s.useState)(0),[f,p]=(0,s.useState)(!1),[g,_]=(0,s.useState)(12),v=(0,s.useRef)(null),x=(0,s.useRef)(null),k=(0,s.useRef)(null),M=e=>.5*(1-Math.cos(Math.PI*e));(0,s.useEffect)((()=>{const e=t.split("\n");let n=e[0].startsWith("OPTIONS:")?e.shift():"",s=12;if(n){const e=n.split(":");if(e[1]){e[1].split(",").forEach((e=>{const[t,n]=e.split("=");"time"!==t||isNaN(n)||(s=parseFloat(n))}))}}_(s);const i=e.flatMap((e=>{if(e.includes(":")&&!isNaN(e.split(":")[1]))return(e=>{const[t,n]=e.split(":"),s=t.trim(),i=s.length>20?s.substring(0,20)+"...":s;return isNaN(n)?[e]:Array(parseInt(n)).fill(i)})(e);{const t=e.trim();return[t.length>20?t.substring(0,20)+"...":t]}}));u((e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})(i))}),[t]);const b=(0,s.useCallback)((()=>{const e=v.current,t=e.getContext("2d"),s=x.current.getBoundingClientRect();e.width=s.width,e.height=s.height,t.clearRect(0,0,e.width,e.height);const i=e.width/2,l=e.height/2+10,a=Math.min(i,l)-30;t.save(),t.translate(i,l),t.rotate(m),t.beginPath(),t.arc(0,0,a,0,2*Math.PI),t.stroke(),t.fillStyle="lightpink",t.fill(),t.fillStyle="black",t.font="1.3em Arial";const r=n.length,o=2*Math.PI/r,c=o/2;for(let n=0;n<r;n++){const e=n*o+c;t.beginPath(),t.moveTo(0,0),t.lineTo(a*Math.cos(e),a*Math.sin(e)),t.stroke()}t.textAlign="right",t.textBaseline="middle";for(let h=0;h<r;h++){const e=h*o;t.save(),t.rotate(e),t.fillText(n[h],a-10,0),t.restore()}t.restore(),t.fillStyle="black",t.beginPath(),t.moveTo(i-10,10),t.lineTo(i+10,10),t.lineTo(i,25),t.closePath(),t.fill()}),[n,m]);(0,s.useEffect)((()=>{const e=()=>{b()};return window.addEventListener("resize",e),b(),()=>window.removeEventListener("resize",e)}),[n,m,b]);const N=Array.from(new Set(n));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"instructions ".concat(l),children:"Click an item in the list to remove it. Right-click to remove all instances of it."}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:a,ref:x,children:[(0,h.jsx)("button",{onClick:()=>{p(!1),(()=>{let e=null,t=1e3*g,n=.6+.4*Math.random();const s=i=>{e||(e=i);let l,a=i-e;if(a<t/2)l=M(a/t);else{if(!(a<t))return cancelAnimationFrame(k.current),void p(!0);l=1-M(a/t)}d((e=>(e+l*n)%(2*Math.PI))),k.current=requestAnimationFrame(s)};k.current=requestAnimationFrame(s)})()},style:{display:"block",margin:"0 auto"},children:"Spin Wheel"}),(0,h.jsx)("canvas",{ref:v})]}),(0,h.jsx)("div",{className:r,children:N.map(((e,t)=>(0,h.jsx)("div",{className:o,onClick:()=>(e=>{u((t=>{const n=t.indexOf(e);return n>-1?[...t.slice(0,n),...t.slice(n+1)]:t}))})(e),onContextMenu:t=>((e,t)=>{e.preventDefault(),u((e=>e.filter((e=>e!==t))))})(t,e),children:e},t)))})]}),f&&(0,h.jsx)("div",{className:c,children:"\ud83c\udf89"})]})}}}]);
//# sourceMappingURL=192.0c6b495f.chunk.js.map
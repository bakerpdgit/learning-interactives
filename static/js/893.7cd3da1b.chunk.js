"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[893],{2893:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var n=s(2791);const r={wordCompleteContainer:"WordComplete_wordCompleteContainer__YoNRj",textArea:"WordComplete_textArea__TVbpf",missingInput:"WordComplete_missingInput__bPvqM",missing:"WordComplete_missing__oDgpk",wrong:"WordComplete_wrong__f25ur",score:"WordComplete_score__FGO0n",star:"WordComplete_star__9TwrU",correctWordContainer:"WordComplete_correctWordContainer__AlWTt",mistakes:"WordComplete_mistakes__fOFdi",celebration:"WordComplete_celebration__VStrQ",scale:"WordComplete_scale__m7Xsv",hide:"WordComplete_hide__qv7rI",moveUpDown:"WordComplete_moveUpDown__8-5cy"};var a=s(184);const o=function(e){let{text:t}=e;const[s,o]=(0,n.useState)(t),[c,l]=(0,n.useState)(0),[i,d]=(0,n.useState)(0),[m,p]=(0,n.useState)(s),[u,_]=(0,n.useState)((s.match(/\*([a-zA-Z0-9]+)(?=[ ,.?!]|$)/g)||[]).map((e=>e.substring(1)))),[h,g]=(0,n.useState)(-1),[C,f]=(0,n.useState)(0),[v,x]=(0,n.useState)(!1),[W,b]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{let e=s;if(0===u.length)return;const t=Math.floor(Math.random()*u.length),n=u[t];let a,o=[];const c=new RegExp("\\*".concat(n,"\\b"),"g");for(;a=c.exec(e);)o.push(a.index);if(0===o.length)return;let l=o[Math.floor(Math.random()*o.length)]+1;const i=/\d/.test(n),m=!i&&n.length>2?n.charAt(0):"",_=!i&&n.length>2?n.charAt(n.length-1):"";e=e.substring(0,l)+'<span class="'.concat(r.missing,'">').concat(m,'<input type="text" class="').concat(r.missingInput,'" data-word="').concat(n,'" value="" size="').concat(Math.min(n.length-1),'">').concat(_,"</span>")+e.substring(l+n.length),e=e.replace(/\*/g,""),p(e),g(t),d(l)}),[s,u]),(0,n.useEffect)((()=>{W&&p(s)}),[W,m,s]),(0,n.useEffect)((()=>{const e=document.querySelector(".".concat(r.missingInput));e&&e.focus()}),[m]),(0,a.jsxs)(a.Fragment,{children:[W?(0,a.jsx)("div",{className:r.celebration,children:(0,a.jsx)("span",{className:r.emoji,role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}):null,v&&(0,a.jsx)("div",{className:r.correctWordContainer,children:u[h]}),(0,a.jsx)("div",{className:r.wordCompleteContainer,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r.textArea,onKeyUp:e=>{if("Enter"===e.key){const t=u[h],n=e.target;let a;if(/^\d+$/.test(t))a=n.value===t;else{a=(t.charAt(0)+n.value+t.charAt(t.length-1)).toUpperCase().includes(t.toUpperCase())}if(a){l((e=>e+1)),f(0);const e=s.substring(0,i-1)+s.substring(i);o(e);const t=u.filter(((e,t)=>t!==h));0===t.length&&b(!0),_(t)}else f((e=>2===e?(l(0),x(!0),setTimeout((()=>{x(!1),f(0)}),1e3),e+1):e+1)),n.classList.add(r.wrong)}},dangerouslySetInnerHTML:{__html:m}}),(0,a.jsx)("div",{className:r.mistakes,children:"\u2716".repeat(C)}),(0,a.jsxs)("div",{className:r.score,children:[(0,a.jsx)("span",{className:r.star,children:"\u2605"})," ",c]})]})})]})}}}]);
//# sourceMappingURL=893.7cd3da1b.chunk.js.map
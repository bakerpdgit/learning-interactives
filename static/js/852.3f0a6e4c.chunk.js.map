{"version":3,"file":"static/js/852.3f0a6e4c.chunk.js","mappings":"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","sources":["webpack://my-react-app/./src/components/TimeRecorder.module.css?30c9","components/TimeRecorder.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"timer\":\"TimeRecorder_timer__ZPnoz\",\"button\":\"TimeRecorder_button__ATNIX\",\"controls\":\"TimeRecorder_controls__KXaWb\",\"categories\":\"TimeRecorder_categories__DlZgo\",\"category\":\"TimeRecorder_category__GO6T5\",\"categoryButton\":\"TimeRecorder_categoryButton__HGinF\",\"selected\":\"TimeRecorder_selected__YMAZG\",\"categoryTime\":\"TimeRecorder_categoryTime__g9v87\",\"addCategory\":\"TimeRecorder_addCategory__zOif5\",\"addCategoryButton\":\"TimeRecorder_addCategoryButton__R0mP3\",\"exportButton\":\"TimeRecorder_exportButton__BAPue\",\"GameArea\":\"TimeRecorder_GameArea__yTGZI\"};","import React, { useState, useEffect, useRef } from \"react\";\nimport styles from \"./TimeRecorder.module.css\";\n\nconst Timer = ({ time }) => {\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  return (\n    <div className={styles.timer}>\n      {minutes}:{seconds < 10 ? `0${seconds}` : seconds}\n    </div>\n  );\n};\n\nconst Button = ({ onClick, label, disabled }) => (\n  <button onClick={onClick} className={styles.button} disabled={disabled}>\n    {label}\n  </button>\n);\n\nconst Category = ({ name, time, isSelected, onClick }) => {\n  const minutes = Math.floor(time / 60);\n  const seconds = time % 60;\n  return (\n    <div className={styles.category}>\n      <div\n        className={`${styles.categoryButton} ${\n          isSelected ? styles.selected : \"\"\n        }`}\n        onClick={() => onClick(name)}\n      >\n        {name}\n      </div>\n      <div className={styles.categoryTime}>\n        {minutes}:{seconds < 10 ? `0${seconds}` : seconds}\n      </div>\n    </div>\n  );\n};\n\nconst TimeRecorderComponent = ({ initialTime = 0, categories = [] }) => {\n  const [time, setTime] = useState(initialTime);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const [pausedTime, setPausedTime] = useState(0);\n  const [lastUpdateTime, setLastUpdateTime] = useState(null);\n  const [exportEnabled, setExportEnabled] = useState(false);\n  const newCategoryRef = useRef(null);\n  const [currentCategory, setCurrentCategory] = useState(\"OTHER\");\n  const [categoryList, setCategoryList] = useState(categories);\n\n  const [categoryTimes, setCategoryTimes] = useState(\n    categories.reduce(\n      (acc, category) => {\n        acc[category] = 0;\n        return acc;\n      },\n      { OTHER: 0 }\n    )\n  );\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  useEffect(() => {\n    let timer;\n\n    if (isRunning && !isPaused) {\n      timer = setInterval(() => {\n        const now = new Date().getTime();\n        const elapsedTime = Math.floor((now - lastUpdateTime) / 1000);\n        const totalElapsed = Math.floor((now - startTime - pausedTime) / 1000);\n\n        const newTime =\n          initialTime > 0\n            ? Math.max(initialTime - totalElapsed, 0)\n            : totalElapsed;\n\n        setTime(newTime);\n\n        setCategoryTimes((prevCategoryTimes) => {\n          const newCategoryTimes = { ...prevCategoryTimes };\n          newCategoryTimes[currentCategory] += elapsedTime;\n          return newCategoryTimes;\n        });\n\n        setLastUpdateTime(now);\n\n        if (newTime === 0 && initialTime > 0) {\n          clearInterval(timer);\n          setIsRunning(false);\n          setIsPaused(false);\n          setIsDisabled(true);\n          setExportEnabled(true);\n        }\n      }, 1000);\n    }\n\n    return () => clearInterval(timer);\n  }, [\n    isRunning,\n    isPaused,\n    startTime,\n    pausedTime,\n    initialTime,\n    lastUpdateTime,\n    currentCategory,\n  ]);\n\n  const handleStartPause = () => {\n    const now = new Date().getTime();\n    setLastUpdateTime(now);\n\n    if (!isRunning) {\n      setIsRunning(true);\n      setIsPaused(false);\n      setStartTime(now);\n    } else if (isPaused) {\n      setIsPaused(false);\n      setPausedTime(pausedTime + (now - lastUpdateTime));\n    } else {\n      setIsPaused(true);\n      setPausedTime(pausedTime + (now - lastUpdateTime));\n    }\n  };\n\n  const handleEnd = () => {\n    setIsRunning(false);\n    setIsPaused(false);\n    setIsDisabled(true);\n    setExportEnabled(true);\n  };\n\n  const handleExport = () => {\n    const csvContent =\n      \"data:text/csv;charset=utf-8,\" +\n      [\n        \"Category,Time (seconds)\",\n        ...Object.entries(categoryTimes).map(\n          ([name, time]) => `${name},${time}`\n        ),\n      ].join(\"\\n\");\n\n    const encodedUri = encodeURI(csvContent);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodedUri);\n    link.setAttribute(\"download\", \"category_times.csv\");\n    document.body.appendChild(link);\n    link.click();\n  };\n\n  const handleCategoryClick = (name) => {\n    setCurrentCategory(name);\n  };\n\n  const handleAddCategory = () => {\n    const newCategory = newCategoryRef.current.value;\n    if (newCategory && !categoryTimes.hasOwnProperty(newCategory)) {\n      setCategoryTimes((prev) => ({ ...prev, [newCategory]: 0 }));\n      setCategoryList((prev) => [...prev, newCategory]);\n    }\n    newCategoryRef.current.value = \"\";\n  };\n\n  return (\n    <div className={styles.timeRecorder}>\n      <Timer time={time} />\n      <div className={styles.controls}>\n        <Button\n          onClick={handleStartPause}\n          label={isPaused || !isRunning ? \"START\" : \"PAUSE\"}\n          disabled={isDisabled}\n        />\n        <Button onClick={handleEnd} label=\"END\" disabled={isDisabled} />\n      </div>\n      <div className={styles.categories}>\n        {[\"OTHER\", ...categoryList].map((category) => (\n          <Category\n            key={category}\n            name={category}\n            time={categoryTimes[category]}\n            isSelected={currentCategory === category}\n            onClick={handleCategoryClick}\n          />\n        ))}\n      </div>\n\n      <div className={styles.addCategory}>\n        <input type=\"text\" ref={newCategoryRef} placeholder=\"New category\" />\n        <Button onClick={handleAddCategory} label=\"Add Category\" />\n      </div>\n      <div className={styles.export}>\n        <Button\n          onClick={handleExport}\n          label=\"Export\"\n          disabled={!exportEnabled}\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction TimeRecorder({ text }) {\n  const lines = text.split(\"\\n\");\n  const timeOption = lines[0].startsWith(\"OPTIONS:time=\")\n    ? parseInt(lines[0].split(\"=\")[1], 10)\n    : 0;\n  const categories = lines.slice(timeOption ? 1 : 0);\n\n  return (\n    <>\n      <div className={styles.GameArea}>\n        <TimeRecorderComponent\n          initialTime={timeOption}\n          categories={categories}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default TimeRecorder;\n"],"names":["Timer","_ref","time","minutes","Math","floor","seconds","_jsxs","className","styles","timer","children","concat","Button","_ref2","onClick","label","disabled","_jsx","button","Category","_ref3","name","isSelected","category","categoryButton","selected","categoryTime","TimeRecorderComponent","_ref4","initialTime","categories","setTime","useState","isRunning","setIsRunning","isPaused","setIsPaused","startTime","setStartTime","pausedTime","setPausedTime","lastUpdateTime","setLastUpdateTime","exportEnabled","setExportEnabled","newCategoryRef","useRef","currentCategory","setCurrentCategory","categoryList","setCategoryList","categoryTimes","setCategoryTimes","reduce","acc","OTHER","isDisabled","setIsDisabled","useEffect","setInterval","now","Date","getTime","elapsedTime","totalElapsed","newTime","max","prevCategoryTimes","newCategoryTimes","clearInterval","handleCategoryClick","timeRecorder","controls","handleStartPause","handleEnd","map","addCategory","type","ref","placeholder","handleAddCategory","newCategory","current","value","hasOwnProperty","prev","export","handleExport","csvContent","Object","entries","_ref5","join","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","_ref6","text","lines","split","timeOption","startsWith","parseInt","slice","_Fragment","GameArea"],"sourceRoot":""}
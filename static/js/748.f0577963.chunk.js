"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[748],{5748:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var r=t(2791);const n={GameArea:"PrizePot_GameArea__+JVoK",prizeFund:"PrizePot_prizeFund__y+M23",coinBagAllocation:"PrizePot_coinBagAllocation__88lJl",interactiveTitle:"PrizePot_interactiveTitle__wNDBC",instructions:"PrizePot_instructions__Xr5H5",question:"PrizePot_question__LV5BQ",prizePot:"PrizePot_prizePot__S0wyB",prizePotChange:"PrizePot_prizePotChange__pPsvI",answers:"PrizePot_answers__pdBvp",buttonWrapper:"PrizePot_buttonWrapper__obm-4",answerOption:"PrizePot_answerOption__StOUQ",dragOver:"PrizePot_dragOver__ZOyVc",moneyBag:"PrizePot_moneyBag__By8Lq",celebration:"PrizePot_celebration__c7jhq",scale:"PrizePot_scale__x-ay9",hide:"PrizePot_hide__3+RpL"};var s=t(1067),a=t(8422),o=t(184);const c="coinBag",l=e=>{let{id:i}=e;const[{isDragging:t},r]=(0,s.c)((()=>({type:c,item:{id:i},collect:e=>({isDragging:!!e.isDragging()})})));return(0,o.jsx)("div",{ref:r,style:{opacity:t?.5:1,fontSize:"3em",cursor:"move"},children:"\ud83d\udcb0"})},d=e=>{let{index:i,onDropCoinBag:t,children:r,allocations:s}=e;const[{isOver:d},p]=(0,a.L)((()=>({accept:c,drop:(e,r)=>t(i,e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:p,style:{border:d?"2px solid green":"1px solid gray",borderRadius:"20px",padding:"10px",margin:"5px",textAlign:"center",fontSize:"1em"},children:[r,(0,o.jsx)("div",{className:n.coinBagAllocation,children:s.map(((e,t)=>e===i&&(0,o.jsx)(l,{id:t},t)))})]})},p=e=>{let{onReturnCoinBag:i,children:t,allocations:r}=e;const[{isOver:s},d]=(0,a.L)((()=>({accept:c,drop:(e,t)=>i(e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,o.jsxs)("div",{ref:d,style:{border:s?"2px dashed green":"1px dashed grey",padding:"10px",borderRadius:"10px",textAlign:"center",minHeight:"100px"},children:[t,(0,o.jsx)("div",{className:n.prizeFund,children:r.map(((e,i)=>-1===e&&(0,o.jsx)(l,{id:i},i)))})]})};const g=function(e){let{text:i}=e;const[t,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(0),[l,g]=(0,r.useState)(128),u=t[a],[_,h]=(0,r.useState)(!1),[x,m]=(0,r.useState)({bags:[-1,-1,-1,-1]});(0,r.useEffect)((()=>{const e=i.split("\n\n").map((e=>{const i=e.split("\n");return{question:i[0],answers:i.slice(1).map((e=>({text:e.replace("*",""),isCorrect:e.includes("*")})))}}));s(e)}),[i]);const P=(e,i)=>{m((t=>{const r={...t};return r.bags[i]=e,r}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:n.interactiveTitle,children:"Prize Pot Quiz"}),(0,o.jsx)("p",{className:n.instructions,children:"Drag at least some of your prize pot to the options, spreading it depending on how sure you are! Click an option to transfer all to this answer."}),(0,o.jsxs)("div",{className:n.prizePot,children:["Current Fund: $",l]}),_?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:n.celebration,children:l>0?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83c\udf89"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("span",{children:"\ud83d\ude22"})})}),(0,o.jsx)("div",{className:n.buttonWrapper,children:(0,o.jsx)("button",{style:n.restartButton,onClick:()=>{g(128),c(0),m({bags:[-1,-1,-1,-1]}),h(!1)},children:"Try Again?"})})]}):u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{onReturnCoinBag:e=>{m((i=>{const t={...i};return t.bags[e]=-1,t}))},allocations:x.bags,children:(0,o.jsx)("div",{className:n.prizeFundTitle,children:"Prize Fund"})}),(0,o.jsx)("div",{className:n.buttonWrapper,children:(0,o.jsx)("button",{className:n.submitButton,disabled:x.bags.every((e=>-1===e)),onClick:()=>{const e=u.answers.findIndex((e=>e.isCorrect)),i=l/4,r=x.bags.filter((i=>i===e)).length*i*4,n=x.bags.filter((i=>i!==e&&-1!==i)).length*i,s=Math.ceil(l-n+r);g(s),a+1<t.length&&s>0?(c(a+1),m({bags:[-1,-1,-1,-1]})):h(!0)},children:"Submit Final Answer"})}),(0,o.jsx)("p",{className:n.question,children:u.question}),(0,o.jsx)("div",{className:n.gameArea,children:u&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:n.answers,children:u.answers.map(((e,i)=>(0,o.jsx)(d,{index:i,onDropCoinBag:P,allocations:x.bags,children:(0,o.jsx)("div",{className:"".concat(n.answerOption),onClick:()=>(e=>{m((i=>({...i,bags:i.bags.map((()=>e))})))})(i),children:e.text})},i)))})})})]})]})}}}]);
//# sourceMappingURL=748.f0577963.chunk.js.map
"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[832],{1832:(e,n,t)=>{t.r(n),t.d(n,{default:()=>p});var o=t(2791);const l="DiamondNine_interactiveSubTitle__0rKD+",a="DiamondNine_GameArea__fVsYP",c="DiamondNine_diamondFormation__VHacg",i="DiamondNine_diamondRow__3h5oS",s="DiamondNine_sideCollection__-gAf5",r="DiamondNine_tile__4ZQIK",d="DiamondNine_diamondTile__3pD0I",u="DiamondNine_selected__MrRL1",m="DiamondNine_editIcon__-1zxJ";var _=t(5249),h=t(184);const p=e=>{let{text:n}=e;const[t,p]=(0,o.useState)(""),[N,w]=(0,o.useState)([]),[x,v]=(0,o.useState)(null),[f,g]=(0,o.useState)(!1),[I,j]=(0,o.useState)({});(0,o.useEffect)((()=>{const[e,t,...o]=n.split("\n").filter(Boolean),l={};e.startsWith("OPTIONS:")&&e.replace("OPTIONS:","").split(",").forEach((e=>{const[n,t]=e.split("=");l[n]=t}));const a=o.map(((e,n)=>({id:n,content:e,row:-1,column:-1,isPlaceholder:!1}))),c=[{id:a.length,content:"",row:0,column:0,isPlaceholder:!0},{id:a.length+1,content:"",row:1,column:0,isPlaceholder:!0},{id:a.length+2,content:"",row:1,column:1,isPlaceholder:!0},{id:a.length+3,content:"",row:2,column:0,isPlaceholder:!0},{id:a.length+4,content:"",row:2,column:1,isPlaceholder:!0},{id:a.length+5,content:"",row:2,column:2,isPlaceholder:!0},{id:a.length+6,content:"",row:3,column:0,isPlaceholder:!0},{id:a.length+7,content:"",row:3,column:1,isPlaceholder:!0},{id:a.length+8,content:"",row:4,column:0,isPlaceholder:!0}];p(t),w([...a,...c]),g("yes"===l.editing.toLowerCase())}),[n]);const P=e=>{null!==x?(w((n=>{const t=n.map((e=>({...e}))),o=t.findIndex((e=>e.id===x)),l=t.findIndex((n=>n.id===e));if(-1===o||-1===l)return n;const a=t[o],c=t[l],i=a.row,s=a.column;return a.row=c.row,a.column=c.column,c.row=i,c.column=s,t})),v(null)):(e=>{v(x===e?null:e)})(e)},C=e=>{if(!e)return null;const n=-1===e.row&&-1===e.column;return(0,h.jsxs)("div",{className:"".concat(n?r:d," ").concat(x===e.id?u:""),onClick:()=>P(e.id),children:[e.content,f&&(0,h.jsx)("span",{className:m,onClick:n=>((e,n)=>{e.stopPropagation(),j({prompt:"Enter new text:",value:n.content,tileId:n.id})})(n,e),children:"\u270e"})]},e.id)};return(0,h.jsxs)(h.Fragment,{children:[I.prompt&&(0,h.jsx)(_.Z,{title:I.prompt,placeholder:"Type here...",value:I.value,onSubmit:e=>{w((n=>n.map((n=>n.id===I.tileId?{...n,content:e}:n)))),j({})},onClose:()=>j({})}),(0,h.jsx)("h1",{className:l,children:t}),(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("div",{className:c,children:[1,2,3,2,1].map(((e,n)=>(0,h.jsx)("div",{className:i,children:Array.from({length:e}).map(((e,t)=>{const o=N.find((e=>e.row===n&&e.column===t));return C(o)}))},n)))}),(0,h.jsx)("div",{className:s,children:N.filter((e=>-1===e.row&&-1===e.column)).map(C)})]})]})}},5249:(e,n,t)=>{t.d(n,{Z:()=>m});var o=t(2791);const l="InputModal_modalOverlay__Y-bWN",a="InputModal_modalContent__z50rT",c="InputModal_modalTitle__FCo0P",i="InputModal_inputField__IeKtc",s="InputModal_buttonGroup__3nwbY",r="InputModal_submitButton__irpiv",d="InputModal_cancelButton__xmt2G";var u=t(184);const m=e=>{let{title:n,placeholder:t,value:m="",onSubmit:_,onClose:h}=e;const[p,N]=(0,o.useState)(m);(0,o.useEffect)((()=>{N(m)}),[m]);const w=()=>{_(p),h()};return(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)("h2",{className:c,children:n}),(0,u.jsx)("input",{type:"text",className:i,placeholder:t,value:p,onChange:e=>{N(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&w()},autoFocus:!0}),(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("button",{className:r,onClick:w,children:"Submit"}),(0,u.jsx)("button",{className:d,onClick:h,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=832.3d129e96.chunk.js.map
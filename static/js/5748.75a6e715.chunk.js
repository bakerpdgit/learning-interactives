"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[5748],{5748:(e,s,n)=>{n.r(s),n.d(s,{default:()=>g});var r=n(2791);const i={GameArea:"PrizePot_GameArea__+JVoK",prizeFund:"PrizePot_prizeFund__y+M23",coinBagAllocation:"PrizePot_coinBagAllocation__88lJl",question:"PrizePot_question__LV5BQ",prizePot:"PrizePot_prizePot__S0wyB",prizePotChange:"PrizePot_prizePotChange__pPsvI",answers:"PrizePot_answers__pdBvp",buttonWrapper:"PrizePot_buttonWrapper__obm-4",answerOption:"PrizePot_answerOption__StOUQ",dragOver:"PrizePot_dragOver__ZOyVc",moneyBag:"PrizePot_moneyBag__By8Lq",celebration:"PrizePot_celebration__c7jhq",scale:"PrizePot_scale__x-ay9",hide:"PrizePot_hide__3+RpL"};var t=n(1067),a=n(8422),c=n(184);const o="coinBag",l=e=>{let{id:s}=e;const[{isDragging:n},r]=(0,t.c)((()=>({type:o,item:{id:s},collect:e=>({isDragging:!!e.isDragging()})})));return(0,c.jsx)("div",{ref:r,style:{opacity:n?.5:1,fontSize:"3em",cursor:"move"},children:"\ud83d\udcb0"})},d=e=>{let{index:s,onDropCoinBag:n,children:r,allocations:t}=e;const[{isOver:d},p]=(0,a.L)((()=>({accept:o,drop:(e,r)=>n(s,e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,c.jsxs)("div",{ref:p,style:{border:d?"2px solid green":"1px solid gray",borderRadius:"20px",padding:"10px",margin:"5px",textAlign:"center",fontSize:"1em"},children:[r,(0,c.jsx)("div",{className:i.coinBagAllocation,children:t.map(((e,n)=>e===s&&(0,c.jsx)(l,{id:n},n)))})]})},p=e=>{let{onReturnCoinBag:s,children:n,allocations:r}=e;const[{isOver:t},d]=(0,a.L)((()=>({accept:o,drop:(e,n)=>s(e.id),collect:e=>({isOver:!!e.isOver()})})));return(0,c.jsxs)("div",{ref:d,style:{border:t?"2px dashed green":"1px dashed grey",padding:"10px",borderRadius:"10px",textAlign:"center",minHeight:"100px"},children:[n,(0,c.jsx)("div",{className:i.prizeFund,children:r.map(((e,s)=>-1===e&&(0,c.jsx)(l,{id:s},s)))})]})};const g=function(e){let{text:s}=e;const[n,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(0),[l,g]=(0,r.useState)(128),u=n[a],[x,_]=(0,r.useState)(!1),[h,m]=(0,r.useState)({bags:[-1,-1,-1,-1]});(0,r.useEffect)((()=>{const e=s.split("\n\n").map((e=>{const s=e.split("\n");return{question:s[0],answers:s.slice(1).map((e=>({text:e.replace("*",""),isCorrect:e.includes("*")})))}}));t(e)}),[s]);const P=(e,s)=>{m((n=>{const r={...n};return r.bags[s]=e,r}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.prizePot,children:["Current Fund: $",l]}),x?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:i.celebration,children:l>0?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("span",{children:"\ud83c\udf89"})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("span",{children:"\ud83d\ude22"})})}),(0,c.jsx)("div",{className:i.buttonWrapper,children:(0,c.jsx)("button",{style:i.restartButton,onClick:()=>{g(128),o(0),m({bags:[-1,-1,-1,-1]}),_(!1)},children:"Try Again?"})})]}):u&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p,{onReturnCoinBag:e=>{m((s=>{const n={...s};return n.bags[e]=-1,n}))},allocations:h.bags,children:(0,c.jsx)("div",{className:i.prizeFundTitle,children:"Prize Fund"})}),(0,c.jsx)("div",{className:i.buttonWrapper,children:(0,c.jsx)("button",{className:i.submitButton,disabled:h.bags.every((e=>-1===e)),onClick:()=>{const e=u.answers.findIndex((e=>e.isCorrect)),s=l/4,r=h.bags.filter((s=>s===e)).length*s*4,i=h.bags.filter((s=>s!==e&&-1!==s)).length*s,t=Math.ceil(l-i+r);g(t),a+1<n.length&&t>0?(o(a+1),m({bags:[-1,-1,-1,-1]})):_(!0)},children:"Submit Final Answer"})}),(0,c.jsx)("p",{className:i.question,children:u.question}),(0,c.jsx)("div",{className:i.gameArea,children:u&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:i.answers,children:u.answers.map(((e,s)=>(0,c.jsx)(d,{index:s,onDropCoinBag:P,allocations:h.bags,children:(0,c.jsx)("div",{className:"".concat(i.answerOption),onClick:()=>(e=>{m((s=>({...s,bags:s.bags.map((()=>e))})))})(s),children:e.text})},s)))})})})]})]})}}}]);
//# sourceMappingURL=5748.75a6e715.chunk.js.map
"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[9568],{9568:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var a=t(2791);const l="SelfReview_interactiveSubTitle__Gs3TL",n="SelfReview_selfReview__JZ1En",r="SelfReview_questionContainer__eNHed",i="SelfReview_question__E8PQL",c="SelfReview_marksAvailable__GQNrg",m="SelfReview_questionProgress__y7IPx",d="SelfReview_answerInput__MBwSW",_="SelfReview_marksScored__uL3vc",h="SelfReview_markschemeContainer__dgxdU",o="SelfReview_markschemePoint__3o48S",v="SelfReview_selected__ApyRO",u="SelfReview_reviewButton__zmVtx",w="SelfReview_reviewDisplay__IOHDC",x="SelfReview_reviewTable__rbbV1",S="SelfReview_questionCell__yTF7x",f="SelfReview_markschemeCell__4Iv27",k="SelfReview_reviewQuestionText__M6Cdz",j="SelfReview_reviewMarksAvailable__937nY",R="SelfReview_userAnswer__S8ird",g="SelfReview_reviewMarkschemePoint__g9aM9",N="SelfReview_overallScore__Ix67d",p="SelfReview_highlight__Mp1S6",M="SelfReview_celebration__M1kAZ";var y=t(184);const C=e=>e.replace(/\*([^*]+)\*/g,"<span class=".concat(p,">$1</span>")),b=e=>{let{questions:s}=e;const t=s.reduce(((e,s)=>e+Math.min(s.markscheme.filter((e=>e.selected)).length,s.marks)),0),a=s.reduce(((e,s)=>e+s.marks),0);return(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("table",{className:x,children:(0,y.jsx)("tbody",{children:s.map(((e,s)=>(0,y.jsxs)("tr",{children:[(0,y.jsxs)("td",{className:S,children:[(0,y.jsx)("div",{className:k,children:e.text}),(0,y.jsxs)("div",{className:j,children:["[",e.marks,"]"]}),(0,y.jsx)("div",{className:R,children:e.answer})]}),(0,y.jsxs)("td",{className:f,children:[e.markscheme.map(((e,s)=>(0,y.jsx)("div",{className:"".concat(g," ").concat(e.selected?v:""),dangerouslySetInnerHTML:{__html:C(e.text)}},s))),(0,y.jsxs)("div",{className:_,children:["[",Math.min(e.markscheme.filter((e=>e.selected)).length,e.marks)," ","marks scored]"]})]})]},s)))})}),(0,y.jsxs)("div",{className:N,children:["Overall score: ",t," out of ",a]})]})},q=e=>{let{question:s,mode:t,onAnswerChange:a,onSelectMarkschemePoint:l}=e;const n=Math.min(s.markscheme.filter((e=>e.selected)).length,s.marks);return(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:i,children:s.text}),(0,y.jsxs)("div",{className:c,children:["[",s.marks,"]"]}),(0,y.jsx)("textarea",{className:d,value:s.answer,onChange:e=>a(e.target.value),placeholder:"Type your answer here...",readOnly:"question"!==t}),"review"===t&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:h,children:["Select the points you included in your answer:",s.markscheme.map(((e,s)=>(0,y.jsx)("div",{onClick:()=>l(s),className:"".concat(o," ").concat(e.selected?v:""),dangerouslySetInnerHTML:{__html:C(e.text)}},s)))]}),(0,y.jsxs)("div",{className:_,children:["[",n," marks scored]"]})]})]})},I=e=>{let{text:s}=e;const[t,r]=(0,a.useState)(0),[i,c]=(0,a.useState)([]),[d,_]=(0,a.useState)(""),[h,o]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const{title:e,questions:t}=(e=>{const s=e.split("\n\n");return{title:s.shift(),questions:s.map(((e,s)=>{const t=e.split("\n").filter((e=>""!==e.trim()));return{text:"".concat(s+1,". ").concat(t[0]),marks:parseInt(t[1],10),markscheme:t.slice(2).map((e=>({text:e,selected:!1}))),answer:""}}))}})(s);_(e),c(t),r(0),o(!1)}),[s]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{className:l,children:d}),(0,y.jsx)("div",{className:n,children:v?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:M,children:"\ud83d\ude03"}),(0,y.jsx)(b,{questions:i})]}):(0,y.jsxs)(y.Fragment,{children:[t<i.length&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(q,{question:i[t],mode:h?"review":"question",onAnswerChange:e=>((e,s)=>{c((t=>t.map(((t,a)=>a===e?{...t,answer:s}:t))))})(t,e),onSelectMarkschemePoint:e=>((e,s)=>{c((t=>t.map(((t,a)=>{if(a===e){const e=t.markscheme.map(((e,t)=>t===s?{...e,selected:!e.selected}:e));return{...t,markscheme:e}}return t}))))})(t,e)}),(0,y.jsxs)("div",{className:m,children:["[Question ",t+1," of ",i.length,"]"]})]}),(0,y.jsx)("button",{onClick:()=>{h?(r((e=>e+1<i.length?e+1:e)),t===i.length-1&&w(!0),o(!1)):o(!0)},className:u,children:h&&t<i.length-1?"Next":h?"Review Summary":"Review"})]})})]})}}}]);
//# sourceMappingURL=9568.6ca926ce.chunk.js.map
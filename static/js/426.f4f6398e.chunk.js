"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[426],{426:(e,t,r)=>{r.r(t),r.d(t,{OrderStack:()=>d,default:()=>u});var i=r(2791),n=r(8422),c=r(1067);const s={interactiveContainer:"Order_interactiveContainer__tV86B",interactiveSubTitle:"Order_interactiveSubTitle__tCP1F",celebration:"Order_celebration__J46uN",scale:"Order_scale__iteDz",hide:"Order_hide__QBBXS",stackContainer:"Order_stackContainer__458Yi",stackItem:"Order_stackItem__tMUUB",correctFlash:"Order_correctFlash__HGu-C",incorrectFlash:"Order_incorrectFlash__Pw1QR"};var a=r(184);const l="item",o=e=>{let{id:t,content:r,index:o,moveItem:d}=e;const u=(0,i.useRef)(null),[,m]=(0,n.L)({accept:l,hover(e,t){if(!u.current)return;const r=e.index,i=o;r!==i&&(d(r,i),e.index=i)}}),[{isDragging:h},_]=(0,c.c)({type:l,item:()=>({id:t,index:o}),collect:e=>({isDragging:!!e.isDragging()})});return _(m(u)),(0,a.jsx)("div",{ref:u,style:{opacity:h?.5:1,cursor:"move"},className:s.stackItem,children:r})},d=e=>{let{items:t,moveItem:r}=e;return(0,a.jsx)("div",{className:s.stackContainer,children:t.map(((e,t)=>(0,a.jsx)(o,{index:t,id:e.id,content:e.content,moveItem:r},e.id)))})},u=e=>{let{text:t}=e;const[r,n]=(0,i.useState)(""),[c,l]=(0,i.useState)([]),[o,u]=(0,i.useState)(0),[m,h]=(0,i.useState)(""),[_,v]=(0,i.useState)(!1);(0,i.useEffect)((()=>{function e(e){let t,r,i=e.length;for(;0!==i;)r=Math.floor(Math.random()*i),i-=1,t=e[i],e[i]=e[r],e[r]=t;return e}const{title:r,groups:i}=(t=>{const r=t.split("\n\n");return{title:r.shift(),groups:r.map(((t,r)=>function(t){let r;do{r=e([...t])}while(r.length>1&&r.every(((e,r)=>e.id===t[r].id)));return r}(t.split("\n").map(((e,t)=>({id:"group-".concat(r,"-item-").concat(t),content:e}))))))}})(t);n(r),l(i),u(0),v(!1)}),[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:s.interactiveSubTitle,children:r}),(0,a.jsx)("div",{className:"instructions",children:!_&&(0,a.jsx)("button",{onClick:()=>{c[o].every(((e,t)=>e.id==="group-".concat(o,"-item-").concat(t)))?o<c.length-1?(u(o+1),h(s.correctFlash),setTimeout((()=>{h("")}),1e3)):(v(!0),h(s.correctFlash),setTimeout((()=>{h("")}),1e3)):(h(s.incorrectFlash),setTimeout((()=>{h("")}),1e3))},children:"Submit"})}),(0,a.jsxs)("div",{className:"".concat(s.interactiveContainer," interactiveContainer"),children:[(0,a.jsx)("div",{className:"".concat(s.stackContainer," ").concat(m),children:c.length>0&&(0,a.jsx)(d,{items:c[o],moveItem:(e,t)=>{const r=[...c],i=r[o][e];r[o].splice(e,1),r[o].splice(t,0,i),l(r)}})}),_?(0,a.jsx)("div",{className:s.celebration,children:(0,a.jsx)("span",{className:s.emoji,role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}):null]})]})}}}]);
//# sourceMappingURL=426.f4f6398e.chunk.js.map
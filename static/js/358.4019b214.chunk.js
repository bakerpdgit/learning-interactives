"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[358],{7358:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(2791),i=t(5851),l=t(6187),c=t(9767),n=t(184);const r=function(e){let{text:s}=e;const[t,r]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(5),[p,h]=(0,a.useState)(""),g=(0,a.useRef)(null),{imageData:f,setImageData:v}=(0,l.c)();(0,a.useEffect)((()=>{const e=s.startsWith("OPTIONS:")?s.split("\n")[0]:null,t=e?Object.fromEntries(e.slice(8).split(",").map((e=>e.split("=")))):{};t.gridsize&&m(t.gridsize);const a=s.split("\n");h(a[a.length-1])}),[s]),(0,a.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),1e3);return()=>clearTimeout(e)}),[]);const x=e=>{v(e)};return(0,n.jsxs)("div",{className:"image-reveal-container",children:[(0,n.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(!p.includes(c.XH)||f)&&(0,n.jsx)("img",{ref:g,src:p&&!p.includes(c.XH)?p:f,className:"image-reveal-image",alt:"Reveal"}),p.includes(c.XH)&&!f&&(0,n.jsxs)("div",{children:["The local image will need to be provided...",(0,n.jsx)("br",{})," ",(0,n.jsx)("input",{type:"file",className:"fileUpload",accept:"image/*",onChange:e=>(0,i.vh)(e.target.files[0],x)})]}),[...Array(u**2)].map(((e,s)=>(0,n.jsx)("div",{className:"image-box ".concat(t.includes(s)?"image-box-reveal":"image-box"),style:{width:"".concat(100/u+.1,"%"),height:"".concat(100/u+.1,"%"),top:"".concat(Math.floor(s/u)*(100/u),"%"),left:"".concat(s%u*(100/u),"%")},onClick:t.includes(s)?null:()=>(e=>{t.includes(e)||r((s=>[...s,e]))})(s),children:s+1},s)))]}),o&&(0,n.jsxs)("div",{className:"image-reveal-instruction",children:[(0,n.jsx)("h1",{children:"Image Reveal"}),(0,n.jsx)("p",{children:"click boxes to reveal"})]})]})}}}]);
//# sourceMappingURL=358.4019b214.chunk.js.map
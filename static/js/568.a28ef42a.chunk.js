"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[568],{9568:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var a=t(2791);const l="SelfReview_interactiveSubTitle__Qr0qs",i="SelfReview_selfReview__XPlJX",r="SelfReview_questionContainer__Oipih",n="SelfReview_question__pFBwN",c="SelfReview_marksAvailable__peDzO",m="SelfReview_questionProgress__2wJg1",_="SelfReview_answerInput__UNYOG",d="SelfReview_marksScored__xrVZg",h="SelfReview_markschemeContainer__hLvJH",o="SelfReview_markschemePoint__ywFii",v="SelfReview_selected__2-Rx4",u="SelfReview_reviewButton__3ewA3",w="SelfReview_reviewDisplay__3KWUD",x="SelfReview_reviewTable__kwktq",S="SelfReview_questionCell__Es-Ju",f="SelfReview_markschemeCell__1drON",k="SelfReview_reviewQuestionText__aGkwu",j="SelfReview_reviewMarksAvailable__KQGFo",R="SelfReview_userAnswer__znmsu",p="SelfReview_reviewMarkschemePoint__kA7po",N="SelfReview_overallScore__Se1Y7",g="SelfReview_highlight__YSPKJ",q="SelfReview_celebration__D40k7";var y=t(184);const C=e=>e.replace(/\*([^*]+)\*/g,"<span class=".concat(g,">$1</span>")),b=e=>{let{questions:s}=e;const t=s.reduce(((e,s)=>e+Math.min(s.markscheme.filter((e=>e.selected)).length,s.marks)),0),a=s.reduce(((e,s)=>e+s.marks),0);return(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("table",{className:x,children:(0,y.jsx)("tbody",{children:s.map(((e,s)=>(0,y.jsxs)("tr",{children:[(0,y.jsxs)("td",{className:S,children:[(0,y.jsx)("div",{className:k,children:e.text}),(0,y.jsxs)("div",{className:j,children:["[",e.marks,"]"]}),(0,y.jsx)("div",{className:R,children:e.answer})]}),(0,y.jsxs)("td",{className:f,children:[e.markscheme.map(((e,s)=>(0,y.jsx)("div",{className:"".concat(p," ").concat(e.selected?v:""),dangerouslySetInnerHTML:{__html:C(e.text)}},s))),(0,y.jsxs)("div",{className:d,children:["[",Math.min(e.markscheme.filter((e=>e.selected)).length,e.marks)," ","marks scored]"]})]})]},s)))})}),(0,y.jsxs)("div",{className:N,children:["Overall score: ",t," out of ",a]})]})},M=e=>{let{question:s,mode:t,onAnswerChange:a,onSelectMarkschemePoint:l}=e;const i=Math.min(s.markscheme.filter((e=>e.selected)).length,s.marks);return(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:n,children:s.text}),(0,y.jsxs)("div",{className:c,children:["[",s.marks,"]"]}),(0,y.jsx)("textarea",{className:_,value:s.answer,onChange:e=>a(e.target.value),placeholder:"Type your answer here...",readOnly:"question"!==t}),"review"===t&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:h,children:["Select the points you included in your answer:",s.markscheme.map(((e,s)=>(0,y.jsx)("div",{onClick:()=>l(s),className:"".concat(o," ").concat(e.selected?v:""),dangerouslySetInnerHTML:{__html:C(e.text)}},s)))]}),(0,y.jsxs)("div",{className:d,children:["[",i," marks scored]"]})]})]})},F=e=>{let{text:s}=e;const[t,r]=(0,a.useState)(0),[n,c]=(0,a.useState)([]),[_,d]=(0,a.useState)(""),[h,o]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const{title:e,questions:t}=(e=>{const s=e.split("\n\n");return{title:s.shift(),questions:s.map(((e,s)=>{const t=e.split("\n").filter((e=>""!==e.trim()));return{text:"".concat(s+1,". ").concat(t[0]),marks:parseInt(t[1],10),markscheme:t.slice(2).map((e=>({text:e,selected:!1}))),answer:""}}))}})(s);d(e),c(t),r(0),o(!1)}),[s]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{className:l,children:_}),(0,y.jsx)("div",{className:i,children:v?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:q,children:"\ud83d\ude03"}),(0,y.jsx)(b,{questions:n})]}):(0,y.jsxs)(y.Fragment,{children:[t<n.length&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(M,{question:n[t],mode:h?"review":"question",onAnswerChange:e=>((e,s)=>{c((t=>t.map(((t,a)=>a===e?{...t,answer:s}:t))))})(t,e),onSelectMarkschemePoint:e=>((e,s)=>{c((t=>t.map(((t,a)=>{if(a===e){const e=t.markscheme.map(((e,t)=>t===s?{...e,selected:!e.selected}:e));return{...t,markscheme:e}}return t}))))})(t,e)}),(0,y.jsxs)("div",{className:m,children:["[Question ",t+1," of ",n.length,"]"]})]}),(0,y.jsx)("button",{onClick:()=>{h?(r((e=>e+1<n.length?e+1:e)),t===n.length-1&&w(!0),o(!1)):o(!0)},className:u,children:h&&t<n.length-1?"Next":h?"Review Summary":"Review"})]})})]})}}}]);
//# sourceMappingURL=568.a28ef42a.chunk.js.map
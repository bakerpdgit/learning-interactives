"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[209],{8209:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var s=r(2791);const d="WordSearch_GameArea__tAV2U",o="WordSearch_instructions__cyuSi",n="WordSearch_RevealButton__sQxtH",a="WordSearch_Container__jr9bd",c="WordSearch_WordSearchGrid__aeVss",l="WordSearch_WordSearchRow__ZqvBD",i="WordSearch_WordSearchCell__ohZaY",h="WordSearch_WordList__xjQX-",u="WordSearch_RevealedCell__7EwFz",f="WordSearch_SelectedCell__U1bv+",x="WordSearch_FoundCell__kpWJP",m="WordSearch_FoundWord__AOkoD",p="WordSearch_celebration__-OI9z";var y=r(184);function _(e,t,r){const s=r?[{dx:1,dy:0},{dx:0,dy:1},{dx:1,dy:1},{dx:-1,dy:1}]:[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:1},{dx:-1,dy:1},{dx:1,dy:-1},{dx:-1,dy:-1}];let d=Array.from({length:e},(()=>Array(e).fill(""))),o=[],n=[];t.forEach((t=>{let a=[],c=[],l=[];for(let o=0;o<e;o++)for(let n=0;n<e;n++)s.forEach((e=>{const{fits:s,hasOverlap:i,isIsolated:h}=g(d,t,o,n,e,r);if(s){const r={word:t,startRow:o,startCol:n,direction:e};h?(a.push(r),i&&(a.push(r),a.push(r),a.push(r),a.push(r))):i?c.push(r):l.push(r)}}));let i=a.length>0?a:c.length>0?c:l;if(!(i.length>0))return{grid:[],wordPlacements:[],usedCoordinates:[]};{const e=i[Math.floor(Math.random()*i.length)];w(d,e.word,e.startRow,e.startCol,e.direction),o.push(e);for(let r=0;r<t.length;r++){const t=e.startRow+r*e.direction.dy,s=e.startCol+r*e.direction.dx;n.push("".concat(t,"-").concat(s))}}}));for(let a=0;a<e;a++)for(let t=0;t<e;t++)""===d[a][t]&&(d[a][t]=String.fromCharCode(Math.floor(26*Math.random())+65));return{grid:d,wordPlacements:o,usedCoordinates:n}}function g(e,t,r,s,d,o){let n=!1,a=!0,c=e.map((e=>e.slice()));for(let l=0;l<t.length;l++){const a=r+l*d.dy,i=s+l*d.dx;if(a<0||a>=e.length||i<0||i>=e[0].length)return{fits:!1,hasOverlap:!1,isIsolated:!1};if(""!==e[a][i]&&e[a][i]!==t[l])return{fits:!1,hasOverlap:!1,isIsolated:!1};if(e[a][i]===t[l]){if(n=!0,o)return{fits:!1,hasOverlap:!0,isIsolated:!1};S(c,a,i)}}return a=function(e,t,r,s,d){for(let o=0;o<s;o++){if(!C(e,t+o*d.dy,r+o*d.dx))return!1}return!0}(c,r,s,t.length,d),{fits:!0,hasOverlap:n,isIsolated:a}}function S(e,t,r){[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}].forEach((s=>{let{dx:d,dy:o}=s;const n=t+o,a=r+d;n>=0&&n<e.length&&a>=0&&a<e[0].length&&(e[n][a]="")})),e[t][r]=""}function C(e,t,r){const s=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const{dx:d,dy:o}of s){const s=t+o,n=r+d;if(s>=0&&s<e.length&&n>=0&&n<e[0].length&&""!==e[s][n])return!1}return!0}const w=(e,t,r,s,d)=>{for(let o=0;o<t.length;o++){const n=r+o*d.dy,a=s+o*d.dx;e[n][a]=t[o]}},j=function(e){let{text:t}=e;const[r,g]=(0,s.useState)(12),[S,C]=(0,s.useState)(!1),[w,j]=(0,s.useState)(""),[v,W]=(0,s.useState)([]),[N,k]=(0,s.useState)([]),[R,b]=(0,s.useState)(!1),[F,I]=(0,s.useState)([]),[O,z]=(0,s.useState)([]),[E,L]=(0,s.useState)([]),[A,M]=(0,s.useState)([]),[P,U]=(0,s.useState)(v.length),[B,D]=(0,s.useState)(!1);function G(e,t){return O.includes("".concat(e,"-").concat(t))}(0,s.useEffect)((()=>{const e=t.split("\n"),r=e[0].slice(8).split(",");let s=!1,d=10,o=!0;r.forEach((e=>{const[t,r]=e.split("=");"size"===t.trim().toLowerCase()?(d=parseInt(r),g(d)):"show"===t.trim().toLowerCase()?(o="yes"===r.trim().toLowerCase(),C(o)):"simple"===t.trim().toLowerCase()&&(s="yes"===r.trim().toLowerCase())})),j(e[1]);const n=e.slice(2).filter((e=>""!==e.trim())).map((e=>e.toUpperCase()));W(n),U(n.length);if(n.some((e=>e.length>d))||d>20||d<5)return void D(!0);let a=0,c=!1;for(;a<3&&!c;){const{grid:e,wordPlacements:t,usedCoordinates:r}=_(d,n,s);0!==e.length?(k(e),I(t),z(r),c=!0):a++}c||D(!0)}),[t,r]);const Q=e=>{M([...A,e]),L([]),U((e=>e-1))},V=e=>{const[t,r]=e,[s,d]=t.split("-").map(Number),[o,n]=r.split("-").map(Number);for(const{word:a,startRow:c,startCol:l,direction:i}of F){const{dx:e,dy:t}=i,r=a.length;if(s===c&&d===l&&o===c+(r-1)*t&&n===l+(r-1)*e)return void Q(a)}L([])};return B?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:w}),(0,y.jsx)("p",{className:o,children:"Failed to create wordsearch: refresh to try again or change the puzzle to use a different grid size."})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:w}),(0,y.jsx)("p",{className:o,children:"Click the first and then last letter of a word to mark it in the grid."}),0===P&&v.length>0&&(0,y.jsx)("div",{className:p,children:"\ud83d\ude03"}),(0,y.jsxs)("div",{className:a,children:[(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)("div",{className:c,style:{gridTemplateColumns:"repeat(".concat(r,", 1fr)")},children:N.map(((e,t)=>(0,y.jsx)("div",{className:l,children:e.map(((e,r)=>(0,y.jsx)("div",{className:"".concat(i," ").concat(R&&G(t,r)?u:""," ").concat(E.includes("".concat(t,"-").concat(r))?f:""," ").concat(A.some((e=>function(e,t,r){for(const{word:s,startRow:d,startCol:o,direction:n}of F)if(s===r){const{dx:s,dy:a}=n,c=r.length;for(let r=0;r<c;r++)if(e===d+r*a&&t===o+r*s)return!0}return!1}(t,r,e)))?x:""),onClick:()=>((e,t)=>{if(R)return;const r="".concat(e,"-").concat(t),s=[...E];2===E.length&&s.splice(0,2),s.push(r),L(s),2===s.length&&V(s)})(t,r),children:e},r)))},t)))}),!S&&(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)("h2",{children:"Words to Find:"}),(0,y.jsx)("ul",{children:(0,y.jsx)("li",{children:P})})]}),S&&(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)("h2",{children:"Words to Find:"}),(0,y.jsx)("ul",{children:v.map(((e,t)=>(0,y.jsx)("li",{className:A.includes(e)?m:"",children:e},t)))})]})]}),(0,y.jsx)("button",{onClick:()=>{b(!0)},className:n,children:"Reveal"})]})]})}}}]);
//# sourceMappingURL=209.4386d13e.chunk.js.map
"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[960],{3960:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var s=r(2791),a=r(184);const n=function(e){let{text:t}=e;const r=e=>{if(e.length<=1)return e;let t=[...e];do{for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}while(t.every(((t,r)=>t===e[r])));return t},{pairs:n,hasSingleWordAnswers:l}=(e=>{const t=e.split("\n\n");let s={};var a;t[0].startsWith("OPTIONS:")&&(a=t.shift(),s=Object.fromEntries(a.substring(8).split(";").map((e=>e.split("=")))));const n=s.mode||"letter",l=t.map((e=>{const[t,s]=e.split("\n");return{word:r("word"===n?s.split(" "):s.split("")),originalWord:s,clue:t,correctAnswer:"word"===n?s.replace(/\s+/g,""):s}})),o="word"===n&&(e=>e.some((e=>1===e.word.length)))(l);return{pairs:l,hasSingleWordAnswers:o}})(t),[o,i]=(0,s.useState)(n),[c,d]=(0,s.useState)(l),p=(e,t,r)=>{e.preventDefault();const{pairIndex:s,tileIndex:a}=JSON.parse(e.dataTransfer.getData("text/plain"));s===t&&((e,t,r)=>{const s=[...o],a=s[e],[n]=a.word.splice(t,1);if(a.word.splice(r,0,n),i(s),o[e].word.join("")===o[e].correctAnswer){const t=[...o];t[e].completed=!0,i(t)}})(t,a,r)},m=e=>{e.preventDefault()},[u,h]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{o.every((e=>e.completed))&&(h(!0),setTimeout((()=>{h(!1)}),3e3))}),[o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"interactiveContainer",children:(0,a.jsxs)("div",{className:"anagramContainer",children:[c&&(0,a.jsx)("div",{className:"error",children:"The puzzle below is not suitable because all answers should have more than one word to use word mode."}),u&&(0,a.jsx)("div",{className:"celebration",children:"\ud83d\ude03"}),o.map(((e,t)=>(0,a.jsxs)("div",{className:"pair ".concat(e.completed?"completed":""),children:[(0,a.jsx)("div",{className:"clue",children:e.clue}),(0,a.jsx)("div",{className:"word",onDragOver:m,children:e.word.map(((r,s)=>(0,a.jsx)("span",{className:"tile ".concat(s===e.selectedTile?"selected":""),draggable:!e.completed,onDragStart:e=>((e,t,r)=>{e.dataTransfer.setData("text/plain",JSON.stringify({pairIndex:t,tileIndex:r}))})(e,t,s),onDrop:e=>p(e,t,s),children:r},s)))})]},t)))]})})})}}}]);
//# sourceMappingURL=960.b746e2c5.chunk.js.map
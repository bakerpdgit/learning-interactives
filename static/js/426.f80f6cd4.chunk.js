"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[426],{426:(e,t,r)=>{r.r(t),r.d(t,{OrderStack:()=>d,default:()=>m});var n=r(2791),c=r(8422),i=r(1067);const a={interactiveContainer:"Order_interactiveContainer__Z1Med",celebration:"Order_celebration__D+8Gs",scale:"Order_scale__6Ha43",hide:"Order_hide__UoeD6",stackContainer:"Order_stackContainer__Or4Aa",stackItem:"Order_stackItem__MBig0",correctFlash:"Order_correctFlash__NYL3K",incorrectFlash:"Order_incorrectFlash__xaCti"};var s=r(184);const o="item",l=e=>{let{id:t,content:r,index:l,moveItem:d}=e;const m=(0,n.useRef)(null),[,u]=(0,c.L)({accept:o,hover(e,t){if(!m.current)return;const r=e.index,n=l;r!==n&&(d(r,n),e.index=n)}}),[{isDragging:h},_]=(0,i.c)({type:o,item:()=>({id:t,index:l}),collect:e=>({isDragging:!!e.isDragging()})});return _(u(m)),(0,s.jsx)("div",{ref:m,style:{opacity:h?.5:1,cursor:"move"},className:a.stackItem,children:r})},d=e=>{let{items:t,moveItem:r}=e;return(0,s.jsx)("div",{className:a.stackContainer,children:t.map(((e,t)=>(0,s.jsx)(l,{index:t,id:e.id,content:e.content,moveItem:r},e.id)))})},m=e=>{let{text:t}=e;const[r,c]=(0,n.useState)(""),[i,o]=(0,n.useState)([]),[l,m]=(0,n.useState)(0),[u,h]=(0,n.useState)(""),[_,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{function e(e){let t,r,n=e.length;for(;0!==n;)r=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[r],e[r]=t;return e}const{title:r,groups:n}=(t=>{const r=t.split("\n\n");return{title:r.shift(),groups:r.map(((t,r)=>function(t){let r;do{r=e([...t])}while(r.length>1&&r.every(((e,r)=>e.id===t[r].id)));return r}(t.split("\n").map(((e,t)=>({id:"group-".concat(r,"-item-").concat(t),content:e}))))))}})(t);c(r),o(n),m(0),p(!1)}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"interactiveTitle",children:r}),(0,s.jsx)("div",{className:"instructions",children:!_&&(0,s.jsx)("button",{onClick:()=>{i[l].every(((e,t)=>e.id==="group-".concat(l,"-item-").concat(t)))?l<i.length-1?(m(l+1),h(a.correctFlash),setTimeout((()=>{h("")}),1e3)):(p(!0),h(a.correctFlash),setTimeout((()=>{h("")}),1e3)):(h(a.incorrectFlash),setTimeout((()=>{h("")}),1e3))},children:"Submit"})}),(0,s.jsxs)("div",{className:"".concat(a.interactiveContainer," interactiveContainer"),children:[(0,s.jsx)("div",{className:"".concat(a.stackContainer," ").concat(u),children:i.length>0&&(0,s.jsx)(d,{items:i[l],moveItem:(e,t)=>{const r=[...i],n=r[l][e];r[l].splice(e,1),r[l].splice(t,0,n),o(r)}})}),_?(0,s.jsx)("div",{className:a.celebration,children:(0,s.jsx)("span",{className:a.emoji,role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}):null]})]})}}}]);
//# sourceMappingURL=426.f80f6cd4.chunk.js.map
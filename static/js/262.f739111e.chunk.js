"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[262],{262:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(2791),n=l(5851),i=l(6187),c=l(184);const s="[local]";const r=function(e){let{text:t}=e;const[l,r]=(0,a.useState)([]),[o,p]=(0,a.useState)(!0),[u,d]=(0,a.useState)(null),{textData:m,setTextData:g}=(0,i.c)(),h=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=setTimeout((()=>{p(!1)}),1e3);return()=>clearTimeout(e)}),[]);const b=e=>{g(e)};return(0,c.jsxs)("div",{className:"image-pin-maincontainer",children:[(0,c.jsxs)("div",{className:"image-pin-container",draggable:"false",onDragOver:e=>{e.preventDefault()},onDrop:e=>{if(!h.current||null===u)return;const t=h.current.getBoundingClientRect();let a=e.clientX-t.left,n=e.clientY-t.top;r(l.map(((e,t)=>t===u?{...e,labelX:a,labelY:n}:e))),d(null)},children:[(!t.includes(s)||m)&&(0,c.jsx)("img",{ref:h,className:"image-pin-image",alt:"Highlight",onClick:e=>{if(!h.current)return;const t=h.current.getBoundingClientRect();let l=e.clientX-t.left,a=e.clientY-t.top;r((e=>[...e,{x:Math.max(0,Math.min(l,t.width-20)),y:Math.max(0,Math.min(a,t.height-20)),label:"",labelX:l,labelY:a-40}]))},draggable:"false",src:t&&!t.includes(s)?t:m,crossOrigin:"anonymous"}),t.includes(s)&&!m&&(0,c.jsxs)("div",{children:["The local image will need to be provided...",(0,c.jsx)("br",{})," ",(0,c.jsx)("input",{type:"file",className:"fileUpload",accept:"image/*",onChange:e=>(0,n.vh)(e.target.files[0],b)})]}),l.map(((e,t)=>(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)("div",{className:"pin",style:{left:"".concat(e.x-10,"px"),top:"".concat(e.y-10,"px")},onContextMenu:e=>((e,t)=>{e.preventDefault(),r((e=>e.filter(((e,l)=>l!==t))))})(e,t),onDoubleClick:()=>(e=>{const t=prompt("Enter a label for this pin:",l[e].label);null!==t&&r(l.map(((l,a)=>a===e?{...l,label:t}:l)))})(t)},"pin-".concat(t)),e.label&&(0,c.jsx)("div",{className:"pin-label",style:{left:"".concat(e.labelX,"px"),top:"".concat(e.labelY,"px")},draggable:"true",onDragStart:e=>((e,t)=>{e.dataTransfer.setData("text/plain",""),d(t)})(e,t),children:e.label})]},"pinlabel-".concat(t))))]}),o&&(0,c.jsxs)("div",{className:"image-pin-instruction",children:[(0,c.jsx)("h1",{children:"Image Pins"}),(0,c.jsx)("p",{children:"click to drop pins, right-click to delete pin, double-click to add a label; drag labels to reposition."})]})]})}}}]);
//# sourceMappingURL=262.f739111e.chunk.js.map
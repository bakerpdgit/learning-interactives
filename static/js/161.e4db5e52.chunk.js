"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[161],{8161:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(2791),l=n(3047),i=n.n(l);const a="RaffleBalls_gameArea__KsO9i",s="RaffleBalls_ball__jV5Yq",o="RaffleBalls_expanded__bzFWp",c="RaffleBalls_ballText__ixfhY",d="RaffleBalls_selectButton__31YEj";var u=n(184);const h=function(e){let{text:t}=e;const n=(0,r.useRef)(null),l=(0,r.useRef)(null),h=(0,r.useRef)([]),[f,g]=(0,r.useState)(null),[w,S]=(0,r.useState)([]),[p,m]=(0,r.useState)(!0),[y,b]=(0,r.useState)(null),[x,E]=(0,r.useState)(null),[B,v]=(0,r.useState)(!1),[R,_]=(0,r.useState)(null),[W,j]=(0,r.useState)({}),[T,k]=(0,r.useState)(t);return(0,r.useEffect)((()=>{const e=()=>{window.location.reload()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>{const e=i().Engine.create();e.gravity.y=0,e.gravity.x=0,l.current=e,h.current=[];const t=i().Render.create({element:n.current,engine:e,options:{width:n.current.offsetWidth,height:n.current.offsetHeight,wireframes:!1,background:"#f0f0f0"}}),r={width:n.current.offsetWidth,height:n.current.offsetHeight},a=[i().Bodies.rectangle(r.width/2,0,r.width,10,{isStatic:!0,render:{fillStyle:"red"}}),i().Bodies.rectangle(r.width/2,r.height,r.width,10,{isStatic:!0,render:{fillStyle:"red"}}),i().Bodies.rectangle(0,r.height/2,10,r.height,{isStatic:!0,render:{fillStyle:"red"}}),i().Bodies.rectangle(r.width,r.height/2,10,r.height,{isStatic:!0,render:{fillStyle:"red"}})],s=r.height-150,o=i().Bodies.rectangle(r.width/4,s,r.width/2,8,{isStatic:!0,render:{fillStyle:"blue"}});b(o);const c=i().Bodies.rectangle(3*r.width/4,s,r.width/2,8,{isStatic:!0,render:{fillStyle:"blue"}});E(c),i().World.add(e.world,[...a,o,c]);const d=((r.width/2-22.5)**2+12100)**.5,u=i().Bodies.rectangle(r.width/2-22.5-d/2,r.height-110*d/(r.width/2-22.5)/2-40,d,8,{isStatic:!0,angle:Math.atan(110/(r.width/2-22.5)),render:{fillStyle:"blue"}}),f=i().Bodies.rectangle(r.width/2+22.5+d/2,r.height-110*d/(r.width/2-22.5)/2-40,d,8,{isStatic:!0,angle:Math.PI-Math.atan(110/(r.width/2-22.5)),render:{fillStyle:"blue"}}),g=i().Bodies.rectangle(r.width/2-22.5-8,r.height-20,8,40,{isStatic:!0,render:{fillStyle:"blue"}}),w=i().Bodies.rectangle(r.width/2+22.5+8,r.height-20,8,40,{isStatic:!0,render:{fillStyle:"blue"}});i().World.add(e.world,[u,f,g,w]);const p=T.split("\n").map((e=>{const[t,n]=e.split(",");return{name:t,score:parseInt(n,10)}})),m=[],y=W;p.forEach(((e,t)=>{if(!y[e.name]){const n=360*t/p.length;y[e.name]="hsl(".concat(n,", 100%, 50%)")}Array.from({length:e.score}).forEach(((t,n)=>{const l=20+Math.random()*(r.width-40),a=20+Math.random()*(r.height-190),s=y[e.name],o=i().Bodies.circle(l,a,20,{restitution:1,friction:0,frictionAir:0,frictionStatic:0,inertia:1/0,render:{fillStyle:s},label:e.name,customColor:s});h.current.push(o),m.push({x:l,y:a,color:s,label:e.name})}))})),S(m),j(y),i().Render.run(t);const x=i().Runner.create();return i().Runner.run(x,e),()=>{i().Render.stop(t),i().Runner.stop(x),i().World.clear(e.world),i().Engine.clear(e),t.canvas.remove(),t.canvas=null,t.context=null,t.textures={}}}),[T,W]),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:()=>{m(!1),h.current.forEach((e=>{i().World.add(l.current.world,e);const t=.1*(Math.random()-.5),n=.1*(Math.random()-.5);i().Body.applyForce(e,{x:e.position.x,y:e.position.y},{x:t,y:n})})),setTimeout((()=>{l.current.world.gravity.y=1,h.current.forEach((e=>{i().Body.set(e,{restitution:.5})})),setTimeout((()=>{i().World.remove(l.current.world,[y,x]),setTimeout((()=>{let e=h.current[0],t=0;h.current.forEach(((n,r)=>{n.position.y>e.position.y&&(e=n,t=r)}));const n=h.current.map((e=>({color:e.customColor,label:e.label,x:e.position.x,y:e.position.y,visible:!0})));S(n),g(t),i().World.remove(l.current.world,h.current),_(t),m(!0),v(!0)}),5e3)}),5e3)}),5e3)},className:d,children:"SELECT"}),B&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>{v(!1),g(null),k(T+" ")},children:"RESET"}),(0,u.jsx)("button",{onClick:()=>{const e=w[R].label,t=T.split("\n").map((t=>{const[n,r]=t.split(",");if(n===e){const e=parseInt(r,10)-1;return"".concat(n,",").concat(e)}return t})).filter((e=>!e.includes(",0"))).join("\n");v(!1),g(null),k(t)},children:"RESET WITHOUT WINNING BALL"}),(0,u.jsx)("button",{onClick:()=>{const e=w[R].label,t=T.split("\n").filter((t=>!t.startsWith(e))).join("\n");v(!1),g(null),k(t)},children:"RESET WITHOUT WINNER"})]}),(0,u.jsx)("div",{ref:n,className:a,children:p&&w.map(((e,t)=>(0,u.jsx)("div",{id:"ball-".concat(t),className:"".concat(s," ").concat(f===t?o:""),onClick:()=>(e=>{g(e)})(t),style:{backgroundColor:e.color,top:"".concat(e.y-20,"px"),left:"".concat(e.x-20,"px")},children:f===t?(0,u.jsx)("span",{className:c,children:e.label}):null},t)))})]})}}}]);
//# sourceMappingURL=161.e4db5e52.chunk.js.map
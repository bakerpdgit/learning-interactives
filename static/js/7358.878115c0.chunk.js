"use strict";(self.webpackChunkclass_interactives=self.webpackChunkclass_interactives||[]).push([[7358],{7358:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var s=i(2791),a=i(5851),n=i(6187),c=i(9767),l=i(184);const r=function(e){let{text:t}=e;const[i,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[u,h]=(0,s.useState)(5),[m,p]=(0,s.useState)(1),[g,f]=(0,s.useState)(""),[v,x]=(0,s.useState)(0),[w,j]=(0,s.useState)(0),[b,S]=(0,s.useState)(0),[k,E]=(0,s.useState)(0),y=(0,s.useRef)(null),{imageData:N,setImageData:C}=(0,n.c)();(0,s.useEffect)((()=>{const e=()=>{window.location.reload()};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[v,w,m]),(0,s.useEffect)((()=>{const e=t.startsWith("OPTIONS:")?t.split("\n")[0]:null,i=e?Object.fromEntries(e.slice(8).split(",").map((e=>e.split("=").map((e=>e.trim()))))):{};i.gridsize&&h(parseInt(i.gridsize,10)),i.scale&&p(parseFloat(i.scale));const s=t.split("\n").filter((e=>e.trim()));f(s[s.length-1])}),[t]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{d(!1)}),1e3);return()=>clearTimeout(e)}),[]),(0,s.useEffect)((()=>{if(v&&w){let e=v*m,t=w*m;const i=(window.innerWidth-40)/e,s=(window.innerHeight-150)/t;let a=Math.min(i,s,1);a<1&&(e*=a,t*=a),S(e),E(t)}}),[m,v,w]);const H=e=>{C(e)};return(0,l.jsxs)("div",{className:"image-reveal-container",children:[(0,l.jsxs)("div",{style:{position:"relative",display:"inline-block",width:"".concat(b,"px"),height:"".concat(k,"px")},children:[(!g.includes(c.XH)||N)&&(0,l.jsx)("img",{ref:y,src:g&&!g.includes(c.XH)?g:N,className:"image-reveal-image",alt:"Reveal",onLoad:()=>{y.current&&(x(y.current.naturalWidth),j(y.current.naturalHeight))},style:{width:"".concat(b,"px"),height:"".concat(k,"px")}}),g.includes(c.XH)&&!N&&(0,l.jsxs)("div",{children:["The local image will need to be provided...",(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"file",className:"fileUpload",accept:"image/*",onChange:e=>(0,a.v)(e.target.files[0],H)})]}),[...Array(u**2)].map(((e,t)=>(0,l.jsx)("div",{className:"image-box ".concat(i.includes(t)?"image-box-reveal":"image-box"),style:{width:"".concat(100/u+.1,"%"),height:"".concat(100/u+.1,"%"),top:"".concat(Math.floor(t/u)*(100/u),"%"),left:"".concat(t%u*(100/u),"%")},onClick:i.includes(t)?null:()=>(e=>{i.includes(e)||r((t=>[...t,e]))})(t),children:t+1},t)))]}),o&&(0,l.jsxs)("div",{className:"image-reveal-instruction",children:[(0,l.jsx)("h1",{children:"Image Reveal"}),(0,l.jsx)("p",{children:"Click boxes to reveal"})]})]})}}}]);
//# sourceMappingURL=7358.878115c0.chunk.js.map